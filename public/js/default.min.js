/*
 GNU Lesser General Public License, http://www.gnu.org/copyleft/lesser.html
 @author  Jan Odvarko, http://odvarko.cz
 @created 2008-06-15
 @updated 2011-07-28
 @link    http://jscolor.com
*/
(function(h,f){function b(a,c,g){if(g===f&&a.nodeType===1)if(g="data-"+c.replace(Ra,"-$1").toLowerCase(),g=a.getAttribute(g),typeof g==="string"){try{g=g==="true"?true:g==="false"?false:g==="null"?null:!d.isNaN(g)?parseFloat(g):Sa.test(g)?d.parseJSON(g):g}catch(i){}d.data(a,c,g)}else g=f;return g}function k(a){for(var c in a)if(c!=="toJSON")return false;return true}function j(a,c,g){var i=c+"defer",m=c+"queue",t=c+"mark",e=d.data(a,i,f,true);e&&(g==="queue"||!d.data(a,m,f,true))&&(g==="mark"||!d.data(a,
t,f,true))&&setTimeout(function(){!d.data(a,m,f,true)&&!d.data(a,t,f,true)&&(d.removeData(a,i,true),e.resolve())},0)}function p(){return false}function o(){return true}function v(a,c,g){var i=d.extend({},g[0]);i.type=a;i.originalEvent={};i.liveFired=f;d.event.handle.call(c,i);i.isDefaultPrevented()&&g[0].preventDefault()}function B(a){var c,g,i,m,t,e,b,f,l,h,k,n=[];m=[];t=d._data(this,"events");if(!(a.liveFired===this||!t||!t.live||a.target.disabled||a.button&&a.type==="click")){a.namespace&&(k=RegExp("(^|\\.)"+
a.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)"));a.liveFired=this;var j=t.live.slice(0);for(b=0;b<j.length;b++)t=j[b],t.origType.replace(ha,"")===a.type?m.push(t.selector):j.splice(b--,1);m=d(a.target).closest(m,a.currentTarget);for(f=0,l=m.length;f<l;f++){h=m[f];for(b=0;b<j.length;b++)if(t=j[b],h.selector===t.selector&&(!k||k.test(t.namespace))&&!h.elem.disabled){e=h.elem;i=null;if(t.preType==="mouseenter"||t.preType==="mouseleave")a.type=t.preType,(i=d(a.relatedTarget).closest(t.selector)[0])&&
d.contains(e,i)&&(i=e);(!i||i!==e)&&n.push({elem:e,handleObj:t,level:h.level})}}for(f=0,l=n.length;f<l;f++){m=n[f];if(g&&m.level>g)break;a.currentTarget=m.elem;a.data=m.handleObj.data;a.handleObj=m.handleObj;k=m.handleObj.origHandler.apply(m.elem,arguments);if(k===false||a.isPropagationStopped())if(g=m.level,k===false&&(c=false),a.isImmediatePropagationStopped())break}return c}}function A(a,c){return(a&&a!=="*"?a+".":"")+c.replace(Ta,"`").replace(Ua,"&")}function z(a,c,g){c=c||0;if(d.isFunction(c))return d.grep(a,
function(a,d){return!!c.call(a,d,a)===g});else if(c.nodeType)return d.grep(a,function(a){return a===c===g});else if(typeof c==="string"){var i=d.grep(a,function(a){return a.nodeType===1});if(Va.test(c))return d.filter(c,i,!g);else c=d.filter(c,i)}return d.grep(a,function(a){return d.inArray(a,c)>=0===g})}function G(a,c){if(c.nodeType===1&&d.hasData(a)){var g=d.expando,i=d.data(a),m=d.data(c,i);if(i=i[g]){var t=i.events,m=m[g]=d.extend({},i);if(t){delete m.handle;m.events={};for(var e in t){g=0;for(i=
t[e].length;g<i;g++)d.event.add(c,e+(t[e][g].namespace?".":"")+t[e][g].namespace,t[e][g],t[e][g].data)}}}}}function r(a,c){var g;if(c.nodeType===1){c.clearAttributes&&c.clearAttributes();c.mergeAttributes&&c.mergeAttributes(a);g=c.nodeName.toLowerCase();if(g==="object")c.outerHTML=a.outerHTML;else if(g==="input"&&(a.type==="checkbox"||a.type==="radio")){if(a.checked)c.defaultChecked=c.checked=a.checked;if(c.value!==a.value)c.value=a.value}else if(g==="option")c.selected=a.defaultSelected;else if(g===
"input"||g==="textarea")c.defaultValue=a.defaultValue;c.removeAttribute(d.expando)}}function x(a){return"getElementsByTagName"in a?a.getElementsByTagName("*"):"querySelectorAll"in a?a.querySelectorAll("*"):[]}function I(a){if(a.type==="checkbox"||a.type==="radio")a.defaultChecked=a.checked}function e(a){d.nodeName(a,"input")?I(a):"getElementsByTagName"in a&&d.grep(a.getElementsByTagName("input"),I)}function l(a,c){c.src?d.ajax({url:c.src,async:false,dataType:"script"}):d.globalEval((c.text||c.textContent||
c.innerHTML||"").replace(Wa,"/*$0*/"));c.parentNode&&c.parentNode.removeChild(c)}function n(a,c,g){var i=c==="width"?a.offsetWidth:a.offsetHeight,m=c==="width"?Xa:Ya;if(i>0)return g!=="border"&&d.each(m,function(){g||(i-=parseFloat(d.css(a,"padding"+this))||0);g==="margin"?i+=parseFloat(d.css(a,g+this))||0:i-=parseFloat(d.css(a,"border"+this+"Width"))||0}),i+"px";i=T(a,c,c);if(i<0||i==null)i=a.style[c]||0;i=parseFloat(i)||0;g&&d.each(m,function(){i+=parseFloat(d.css(a,"padding"+this))||0;g!=="padding"&&
(i+=parseFloat(d.css(a,"border"+this+"Width"))||0);g==="margin"&&(i+=parseFloat(d.css(a,g+this))||0)});return i+"px"}function y(a){return function(c,g){var P;typeof c!=="string"&&(g=c,c="*");if(d.isFunction(g))for(var i=c.toLowerCase().split(sa),m=0,t=i.length,e,b;m<t;m++)e=i[m],(b=/^\+/.test(e))&&(e=e.substr(1)||"*"),P=a[e]=a[e]||[],e=P,e[b?"unshift":"push"](g)}}function H(a,c,d,i,m,t){m=m||c.dataTypes[0];t=t||{};t[m]=true;for(var m=a[m],e=0,b=m?m.length:0,l=a===ia,h;e<b&&(l||!h);e++)h=m[e](c,d,
i),typeof h==="string"&&(!l||t[h]?h=f:(c.dataTypes.unshift(h),h=H(a,c,d,i,h,t)));if((l||!h)&&!t["*"])h=H(a,c,d,i,"*",t);return h}function w(a,c){var g,i,m=d.ajaxSettings.flatOptions||{};for(g in c)c[g]!==f&&((m[g]?a:i||(i={}))[g]=c[g]);i&&d.extend(true,a,i)}function F(a,c,g,i){if(d.isArray(c))d.each(c,function(c,m){g||Za.test(a)?i(a,m):F(a+"["+(typeof m==="object"||d.isArray(m)?c:"")+"]",m,g,i)});else if(!g&&c!=null&&typeof c==="object")for(var m in c)F(a+"["+m+"]",c[m],g,i);else i(a,c)}function J(){try{return new h.XMLHttpRequest}catch(a){}}
function u(){setTimeout(C,0);return ca=d.now()}function C(){ca=f}function D(a,c){var g={};d.each(ta.concat.apply([],ta.slice(0,c)),function(){g[this]=a});return g}function U(a){if(!ja[a]){var c=s.body,g=d("<"+a+">").appendTo(c),i=g.css("display");g.remove();if(i==="none"||i===""){if(!L)L=s.createElement("iframe"),L.frameBorder=L.width=L.height=0;c.appendChild(L);if(!V||!L.createElement)V=(L.contentWindow||L.contentDocument).document,V.write((s.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>"),
V.close();g=V.createElement(a);V.body.appendChild(g);i=d.css(g,"display");c.removeChild(L)}ja[a]=i}return ja[a]}function q(a){return d.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:false}var s=h.document,O=h.navigator,R=h.location,d=function(){function a(){if(!c.isReady){try{s.documentElement.doScroll("left")}catch(d){setTimeout(a,1);return}c.ready()}}var c=function(a,d){return new c.fn.init(a,d,m)},d=h.jQuery,i=h.$,m,t=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,e=/\S/,b=/^\s+/,l=/\s+$/,
k=/\d/,n=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,j=/^[\],:{}\s]*$/,u=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,q=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,o=/(?:^|:|,)(?:\s*\[)+/g,y=/(webkit)[ \/]([\w.]+)/,r=/(opera)(?:.*version)?[ \/]([\w.]+)/,p=/(msie) ([\w.]+)/,C=/(mozilla)(?:.*? rv:([\w.]+))?/,Y=/-([a-z]|[0-9])/ig,$a=/^-ms-/,ab=function(a,c){return(c+"").toUpperCase()},Z=O.userAgent,da,W,bb=Object.prototype.toString,ka=Object.prototype.hasOwnProperty,D=Array.prototype.push,z=Array.prototype.slice,
H=String.prototype.trim,w=Array.prototype.indexOf,ua={};c.fn=c.prototype={constructor:c,init:function(a,d,g){var i;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(a==="body"&&!d&&s.body)return this.context=s,this[0]=s.body,this.selector=a,this.length=1,this;if(typeof a==="string")if((i=a.charAt(0)==="<"&&a.charAt(a.length-1)===">"&&a.length>=3?[null,a,null]:t.exec(a))&&(i[1]||!d))if(i[1])return g=(d=d instanceof c?d[0]:d)?d.ownerDocument||d:s,(a=n.exec(a))?c.isPlainObject(d)?
(a=[s.createElement(a[1])],c.fn.attr.call(a,d,true)):a=[g.createElement(a[1])]:(a=c.buildFragment([i[1]],[g]),a=(a.cacheable?c.clone(a.fragment):a.fragment).childNodes),c.merge(this,a);else{if((d=s.getElementById(i[2]))&&d.parentNode){if(d.id!==i[2])return g.find(a);this.length=1;this[0]=d}this.context=s;this.selector=a;return this}else return!d||d.jquery?(d||g).find(a):this.constructor(d).find(a);else if(c.isFunction(a))return g.ready(a);if(a.selector!==f)this.selector=a.selector,this.context=a.context;
return c.makeArray(a,this)},selector:"",jquery:"1.6.4",length:0,size:function(){return this.length},toArray:function(){return z.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,d,g){var i=this.constructor();c.isArray(a)?D.apply(i,a):c.merge(i,a);i.prevObject=this;i.context=this.context;if(d==="find")i.selector=this.selector+(this.selector?" ":"")+g;else if(d)i.selector=this.selector+"."+d+"("+g+")";return i},each:function(a,d){return c.each(this,
a,d)},ready:function(a){c.bindReady();da.done(a);return this},eq:function(a){return a===-1?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(z.apply(this,arguments),"slice",z.call(arguments).join(","))},map:function(a){return this.pushStack(c.map(this,function(c,d){return a.call(c,d,c)}))},end:function(){return this.prevObject||this.constructor(null)},push:D,sort:[].sort,splice:[].splice};c.fn.init.prototype=
c.fn;c.extend=c.fn.extend=function(){var a,d,g,i,m,t=arguments[0]||{},e=1,b=arguments.length,Y=false;typeof t==="boolean"&&(Y=t,t=arguments[1]||{},e=2);typeof t!=="object"&&!c.isFunction(t)&&(t={});b===e&&(t=this,--e);for(;e<b;e++)if((a=arguments[e])!=null)for(d in a)g=t[d],i=a[d],t!==i&&(Y&&i&&(c.isPlainObject(i)||(m=c.isArray(i)))?(m?(m=false,g=g&&c.isArray(g)?g:[]):g=g&&c.isPlainObject(g)?g:{},t[d]=c.extend(Y,g,i)):i!==f&&(t[d]=i));return t};c.extend({noConflict:function(a){if(h.$===c)h.$=i;if(a&&
h.jQuery===c)h.jQuery=d;return c},isReady:false,readyWait:1,holdReady:function(a){a?c.readyWait++:c.ready(true)},ready:function(a){if(a===true&&!--c.readyWait||a!==true&&!c.isReady){if(!s.body)return setTimeout(c.ready,1);c.isReady=true;a!==true&&--c.readyWait>0||(da.resolveWith(s,[c]),c.fn.trigger&&c(s).trigger("ready").unbind("ready"))}},bindReady:function(){if(!da){da=c._Deferred();if(s.readyState==="complete")return setTimeout(c.ready,1);if(s.addEventListener)s.addEventListener("DOMContentLoaded",
W,false),h.addEventListener("load",c.ready,false);else if(s.attachEvent){s.attachEvent("onreadystatechange",W);h.attachEvent("onload",c.ready);var d=false;try{d=h.frameElement==null}catch(g){}s.documentElement.doScroll&&d&&a()}}},isFunction:function(a){return c.type(a)==="function"},isArray:Array.isArray||function(a){return c.type(a)==="array"},isWindow:function(a){return a&&typeof a==="object"&&"setInterval"in a},isNaN:function(a){return a==null||!k.test(a)||isNaN(a)},type:function(a){return a==
null?String(a):ua[bb.call(a)]||"object"},isPlainObject:function(a){if(!a||c.type(a)!=="object"||a.nodeType||c.isWindow(a))return false;try{if(a.constructor&&!ka.call(a,"constructor")&&!ka.call(a.constructor.prototype,"isPrototypeOf"))return false}catch(d){return false}for(var g in a);return g===f||ka.call(a,g)},isEmptyObject:function(a){for(var c in a)return false;return true},error:function(a){throw a;},parseJSON:function(a){if(typeof a!=="string"||!a)return null;a=c.trim(a);if(h.JSON&&h.JSON.parse)return h.JSON.parse(a);
if(j.test(a.replace(u,"@").replace(q,"]").replace(o,"")))return(new Function("return "+a))();c.error("Invalid JSON: "+a)},parseXML:function(a){var d,g;try{h.DOMParser?(g=new DOMParser,d=g.parseFromString(a,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(a))}catch(i){d=f}(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&c.error("Invalid XML: "+a);return d},noop:function(){},globalEval:function(a){a&&e.test(a)&&(h.execScript||function(a){h.eval.call(h,
a)})(a)},camelCase:function(a){return a.replace($a,"ms-").replace(Y,ab)},nodeName:function(a,c){return a.nodeName&&a.nodeName.toUpperCase()===c.toUpperCase()},each:function(a,d,g){var i,m=0,t=a.length,e=t===f||c.isFunction(a);if(g)if(e)for(i in a){if(d.apply(a[i],g)===false)break}else for(;m<t;){if(d.apply(a[m++],g)===false)break}else if(e)for(i in a){if(d.call(a[i],i,a[i])===false)break}else for(;m<t;)if(d.call(a[m],m,a[m++])===false)break;return a},trim:H?function(a){return a==null?"":H.call(a)}:
function(a){return a==null?"":a.toString().replace(b,"").replace(l,"")},makeArray:function(a,d){var g=d||[];if(a!=null){var i=c.type(a);a.length==null||i==="string"||i==="function"||i==="regexp"||c.isWindow(a)?D.call(g,a):c.merge(g,a)}return g},inArray:function(a,c){if(!c)return-1;if(w)return w.call(c,a);for(var d=0,g=c.length;d<g;d++)if(c[d]===a)return d;return-1},merge:function(a,c){var d=a.length,g=0;if(typeof c.length==="number")for(var i=c.length;g<i;g++)a[d++]=c[g];else for(;c[g]!==f;)a[d++]=
c[g++];a.length=d;return a},grep:function(a,c,d){for(var g=[],i,d=!!d,m=0,t=a.length;m<t;m++)i=!!c(a[m],m),d!==i&&g.push(a[m]);return g},map:function(a,d,g){var i,m,t=[],e=0,b=a.length;if(a instanceof c||b!==f&&typeof b==="number"&&(b>0&&a[0]&&a[b-1]||b===0||c.isArray(a)))for(;e<b;e++)i=d(a[e],e,g),i!=null&&(t[t.length]=i);else for(m in a)i=d(a[m],m,g),i!=null&&(t[t.length]=i);return t.concat.apply([],t)},guid:1,proxy:function(a,d){if(typeof d==="string")var g=a[d],d=a,a=g;if(!c.isFunction(a))return f;
var i=z.call(arguments,2),g=function(){return a.apply(d,i.concat(z.call(arguments)))};g.guid=a.guid=a.guid||g.guid||c.guid++;return g},access:function(a,d,g,i,m,t){var e=a.length;if(typeof d==="object"){for(var b in d)c.access(a,b,d[b],i,m,g);return a}if(g!==f){i=!t&&i&&c.isFunction(g);for(b=0;b<e;b++)m(a[b],d,i?g.call(a[b],b,m(a[b],d)):g,t);return a}return e?m(a[0],d):f},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();a=y.exec(a)||r.exec(a)||p.exec(a)||a.indexOf("compatible")<
0&&C.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}},sub:function(){function a(c,d){return new a.fn.init(c,d)}c.extend(true,a,this);a.superclass=this;a.fn=a.prototype=this();a.fn.constructor=a;a.sub=this.sub;a.fn.init=function(g,i){i&&i instanceof c&&!(i instanceof a)&&(i=a(i));return c.fn.init.call(this,g,i,d)};a.fn.init.prototype=a.fn;var d=a(s);return a},browser:{}});c.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,c){ua["[object "+c+"]"]=c.toLowerCase()});
Z=c.uaMatch(Z);if(Z.browser)c.browser[Z.browser]=true,c.browser.version=Z.version;if(c.browser.webkit)c.browser.safari=true;e.test("\u00a0")&&(b=/^[\s\xA0]+/,l=/[\s\xA0]+$/);m=c(s);s.addEventListener?W=function(){s.removeEventListener("DOMContentLoaded",W,false);c.ready()}:s.attachEvent&&(W=function(){s.readyState==="complete"&&(s.detachEvent("onreadystatechange",W),c.ready())});return c}(),la="done fail isResolved isRejected promise then always pipe".split(" "),va=[].slice;d.extend({_Deferred:function(){var a=
[],c,g,i,m={done:function(){if(!i){var g=arguments,e,b,f,l,h;c&&(h=c,c=0);for(e=0,b=g.length;e<b;e++)f=g[e],l=d.type(f),l==="array"?m.done.apply(m,f):l==="function"&&a.push(f);h&&m.resolveWith(h[0],h[1])}return this},resolveWith:function(d,m){if(!i&&!c&&!g){m=m||[];g=1;try{for(;a[0];)a.shift().apply(d,m)}finally{c=[d,m],g=0}}return this},resolve:function(){m.resolveWith(this,arguments);return this},isResolved:function(){return!(!g&&!c)},cancel:function(){i=1;a=[];return this}};return m},Deferred:function(a){var c=
d._Deferred(),g=d._Deferred(),i;d.extend(c,{then:function(a,d){c.done(a).fail(d);return this},always:function(){return c.done.apply(c,arguments).fail.apply(this,arguments)},fail:g.done,rejectWith:g.resolveWith,reject:g.resolve,isRejected:g.isResolved,pipe:function(a,g){return d.Deferred(function(i){d.each({done:[a,"resolve"],fail:[g,"reject"]},function(a,g){var m=g[0],e=g[1],t;if(d.isFunction(m))c[a](function(){if((t=m.apply(this,arguments))&&d.isFunction(t.promise))t.promise().then(i.resolve,i.reject);
else i[e+"With"](this===c?i:this,[t])});else c[a](i[e])})}).promise()},promise:function(a){if(a==null){if(i)return i;i=a={}}for(var d=la.length;d--;)a[la[d]]=c[la[d]];return a}});c.done(g.cancel).fail(c.cancel);delete c.cancel;a&&a.call(c,c);return c},when:function(a){function c(a){return function(c){g[a]=arguments.length>1?va.call(arguments,0):c;--e||b.resolveWith(b,va.call(g,0))}}var g=arguments,i=0,m=g.length,e=m,b=m<=1&&a&&d.isFunction(a.promise)?a:d.Deferred();if(m>1){for(;i<m;i++)g[i]&&d.isFunction(g[i].promise)?
g[i].promise().then(c(i),b.reject):--e;e||b.resolveWith(b,g)}else b!==a&&b.resolveWith(b,m?[a]:[]);return b.promise()}});d.support=function(){var a=s.createElement("div"),c=s.documentElement,g,i,m,e,b,f;a.setAttribute("className","t");a.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";g=a.getElementsByTagName("*");i=a.getElementsByTagName("a")[0];if(!g||!g.length||!i)return{};m=s.createElement("select");e=m.appendChild(s.createElement("option"));
g=a.getElementsByTagName("input")[0];b={leadingWhitespace:a.firstChild.nodeType===3,tbody:!a.getElementsByTagName("tbody").length,htmlSerialize:!!a.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:i.getAttribute("href")==="/a",opacity:/^0.55$/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:g.value==="on",optSelected:e.selected,getSetAttribute:a.className!=="t",submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,
inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true};g.checked=true;b.noCloneChecked=g.cloneNode(true).checked;m.disabled=true;b.optDisabled=!e.disabled;try{delete a.test}catch(l){b.deleteExpando=false}!a.addEventListener&&a.attachEvent&&a.fireEvent&&(a.attachEvent("onclick",function(){b.noCloneEvent=false}),a.cloneNode(true).fireEvent("onclick"));g=s.createElement("input");g.value="t";g.setAttribute("type","radio");b.radioValue=g.value==="t";g.setAttribute("checked","checked");
a.appendChild(g);i=s.createDocumentFragment();i.appendChild(a.firstChild);b.checkClone=i.cloneNode(true).cloneNode(true).lastChild.checked;a.innerHTML="";a.style.width=a.style.paddingLeft="1px";m=s.getElementsByTagName("body")[0];i=s.createElement(m?"div":"body");e={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};m&&d.extend(e,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in e)i.style[f]=e[f];i.appendChild(a);c=m||c;c.insertBefore(i,c.firstChild);b.appendChecked=
g.checked;b.boxModel=a.offsetWidth===2;if("zoom"in a.style)a.style.display="inline",a.style.zoom=1,b.inlineBlockNeedsLayout=a.offsetWidth===2,a.style.display="",a.innerHTML="<div style='width:4px;'></div>",b.shrinkWrapBlocks=a.offsetWidth!==2;a.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";m=a.getElementsByTagName("td");g=m[0].offsetHeight===0;m[0].style.display="";m[1].style.display="none";b.reliableHiddenOffsets=g&&m[0].offsetHeight===0;a.innerHTML=
"";if(s.defaultView&&s.defaultView.getComputedStyle)g=s.createElement("div"),g.style.width="0",g.style.marginRight="0",a.appendChild(g),b.reliableMarginRight=(parseInt((s.defaultView.getComputedStyle(g,null)||{marginRight:0}).marginRight,10)||0)===0;i.innerHTML="";c.removeChild(i);if(a.attachEvent)for(f in{submit:1,change:1,focusin:1})c="on"+f,g=c in a,g||(a.setAttribute(c,"return;"),g=typeof a[c]==="function"),b[f+"Bubbles"]=g;i=i=m=e=m=g=a=g=null;return b}();d.boxModel=d.support.boxModel;var Sa=
/^(?:\{.*\}|\[.*\])$/,Ra=/([A-Z])/g;d.extend({cache:{},uuid:0,expando:"jQuery"+(d.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(a){a=a.nodeType?d.cache[a[d.expando]]:a[d.expando];return!!a&&!k(a)},data:function(a,c,g,i){if(d.acceptData(a)){var m=d.expando,e=typeof c==="string",b=a.nodeType,l=b?d.cache:a,h=b?a[d.expando]:a[d.expando]&&d.expando;if(h&&(!i||!h||!l[h]||l[h][m])||!(e&&g===f)){if(!h)b?a[d.expando]=
h=++d.uuid:h=d.expando;if(!l[h]&&(l[h]={},!b))l[h].toJSON=d.noop;if(typeof c==="object"||typeof c==="function")i?l[h][m]=d.extend(l[h][m],c):l[h]=d.extend(l[h],c);a=l[h];i&&(a[m]||(a[m]={}),a=a[m]);g!==f&&(a[d.camelCase(c)]=g);if(c==="events"&&!a[c])return a[m]&&a[m].events;e?(g=a[c],g==null&&(g=a[d.camelCase(c)])):g=a;return g}}},removeData:function(a,c,g){if(d.acceptData(a)){var i,m=d.expando,e=a.nodeType,b=e?d.cache:a,f=e?a[d.expando]:d.expando;if(b[f]){if(c&&(i=g?b[f][m]:b[f]))if(i[c]||(c=d.camelCase(c)),
delete i[c],!k(i))return;if(g&&(delete b[f][m],!k(b[f])))return;c=b[f][m];d.support.deleteExpando||!b.setInterval?delete b[f]:b[f]=null;if(c){b[f]={};if(!e)b[f].toJSON=d.noop;b[f][m]=c}else e&&(d.support.deleteExpando?delete a[d.expando]:a.removeAttribute?a.removeAttribute(d.expando):a[d.expando]=null)}}},_data:function(a,c,g){return d.data(a,c,g,true)},acceptData:function(a){if(a.nodeName){var c=d.noData[a.nodeName.toLowerCase()];if(c)return!(c===true||a.getAttribute("classid")!==c)}return true}});
d.fn.extend({data:function(a,c){var g=null;if(typeof a==="undefined"){if(this.length&&(g=d.data(this[0]),this[0].nodeType===1))for(var i=this[0].attributes,m,e=0,l=i.length;e<l;e++)m=i[e].name,m.indexOf("data-")===0&&(m=d.camelCase(m.substring(5)),b(this[0],m,g[m]));return g}else if(typeof a==="object")return this.each(function(){d.data(this,a)});var h=a.split(".");h[1]=h[1]?"."+h[1]:"";return c===f?(g=this.triggerHandler("getData"+h[1]+"!",[h[0]]),g===f&&this.length&&(g=d.data(this[0],a),g=b(this[0],
a,g)),g===f&&h[1]?this.data(h[0]):g):this.each(function(){var g=d(this),i=[h[0],c];g.triggerHandler("setData"+h[1]+"!",i);d.data(this,a,c);g.triggerHandler("changeData"+h[1]+"!",i)})},removeData:function(a){return this.each(function(){d.removeData(this,a)})}});d.extend({_mark:function(a,c){a&&(c=(c||"fx")+"mark",d.data(a,c,(d.data(a,c,f,true)||0)+1,true))},_unmark:function(a,c,g){a!==true&&(g=c,c=a,a=false);if(c){var g=g||"fx",i=g+"mark";(a=a?0:(d.data(c,i,f,true)||1)-1)?d.data(c,i,a,true):(d.removeData(c,
i,true),j(c,g,"mark"))}},queue:function(a,c,g){if(a){var c=(c||"fx")+"queue",i=d.data(a,c,f,true);g&&(!i||d.isArray(g)?i=d.data(a,c,d.makeArray(g),true):i.push(g));return i||[]}},dequeue:function(a,c){var c=c||"fx",g=d.queue(a,c),i=g.shift();i==="inprogress"&&(i=g.shift());i&&(c==="fx"&&g.unshift("inprogress"),i.call(a,function(){d.dequeue(a,c)}));g.length||(d.removeData(a,c+"queue",true),j(a,c,"queue"))}});d.fn.extend({queue:function(a,c){typeof a!=="string"&&(c=a,a="fx");return c===f?d.queue(this[0],
a):this.each(function(){var g=d.queue(this,a,c);a==="fx"&&g[0]!=="inprogress"&&d.dequeue(this,a)})},dequeue:function(a){return this.each(function(){d.dequeue(this,a)})},delay:function(a,c){a=d.fx?d.fx.speeds[a]||a:a;c=c||"fx";return this.queue(c,function(){var g=this;setTimeout(function(){d.dequeue(g,c)},a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a){function c(){--e||g.resolveWith(i,[i])}typeof a!=="string"&&(a=f);var a=a||"fx",g=d.Deferred(),i=this,m=i.length,e=
1,b=a+"defer",l=a+"queue";a+="mark";for(var h;m--;)if(h=d.data(i[m],b,f,true)||(d.data(i[m],l,f,true)||d.data(i[m],a,f,true))&&d.data(i[m],b,d._Deferred(),true))e++,h.done(c);c();return g.promise()}});var wa=/[\n\t\r]/g,ma=/\s+/,cb=/\r/g,db=/^(?:button|input)$/i,eb=/^(?:button|input|object|select|textarea)$/i,fb=/^a(?:rea)?$/i,xa=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,K,ya;d.fn.extend({attr:function(a,c){return d.access(this,
a,c,true,d.attr)},removeAttr:function(a){return this.each(function(){d.removeAttr(this,a)})},prop:function(a,c){return d.access(this,a,c,true,d.prop)},removeProp:function(a){a=d.propFix[a]||a;return this.each(function(){try{this[a]=f,delete this[a]}catch(c){}})},addClass:function(a){var c,g,i,m,e,b,f;if(d.isFunction(a))return this.each(function(c){d(this).addClass(a.call(this,c,this.className))});if(a&&typeof a==="string"){c=a.split(ma);for(g=0,i=this.length;g<i;g++)if(m=this[g],m.nodeType===1)if(!m.className&&
c.length===1)m.className=a;else{e=" "+m.className+" ";for(b=0,f=c.length;b<f;b++)~e.indexOf(" "+c[b]+" ")||(e+=c[b]+" ");m.className=d.trim(e)}}return this},removeClass:function(a){var c,g,i,m,e,b,l;if(d.isFunction(a))return this.each(function(c){d(this).removeClass(a.call(this,c,this.className))});if(a&&typeof a==="string"||a===f){c=(a||"").split(ma);for(g=0,i=this.length;g<i;g++)if(m=this[g],m.nodeType===1&&m.className)if(a){e=(" "+m.className+" ").replace(wa," ");for(b=0,l=c.length;b<l;b++)e=e.replace(" "+
c[b]+" "," ");m.className=d.trim(e)}else m.className=""}return this},toggleClass:function(a,c){var g=typeof a,i=typeof c==="boolean";return d.isFunction(a)?this.each(function(g){d(this).toggleClass(a.call(this,g,this.className,c),c)}):this.each(function(){if(g==="string")for(var m,e=0,b=d(this),f=c,l=a.split(ma);m=l[e++];)f=i?f:!b.hasClass(m),b[f?"addClass":"removeClass"](m);else if(g==="undefined"||g==="boolean")this.className&&d._data(this,"__className__",this.className),this.className=this.className||
a===false?"":d._data(this,"__className__")||""})},hasClass:function(a){for(var a=" "+a+" ",c=0,d=this.length;c<d;c++)if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(wa," ").indexOf(a)>-1)return true;return false},val:function(a){var c,g,i=this[0];if(!arguments.length){if(i){if((c=d.valHooks[i.nodeName.toLowerCase()]||d.valHooks[i.type])&&"get"in c&&(g=c.get(i,"value"))!==f)return g;g=i.value;return typeof g==="string"?g.replace(cb,""):g==null?"":g}return f}var m=d.isFunction(a);return this.each(function(g){var i=
d(this);if(this.nodeType===1&&(g=m?a.call(this,g,i.val()):a,g==null?g="":typeof g==="number"?g+="":d.isArray(g)&&(g=d.map(g,function(a){return a==null?"":a+""})),c=d.valHooks[this.nodeName.toLowerCase()]||d.valHooks[this.type],!c||!("set"in c)||c.set(this,g,"value")===f))this.value=g})}});d.extend({valHooks:{option:{get:function(a){var c=a.attributes.value;return!c||c.specified?a.value:a.text}},select:{get:function(a){var c,g=a.selectedIndex,i=[],m=a.options,a=a.type==="select-one";if(g<0)return null;
for(var e=a?g:0,b=a?g+1:m.length;e<b;e++)if(c=m[e],c.selected&&(d.support.optDisabled?!c.disabled:c.getAttribute("disabled")===null)&&(!c.parentNode.disabled||!d.nodeName(c.parentNode,"optgroup"))){c=d(c).val();if(a)return c;i.push(c)}return a&&!i.length&&m.length?d(m[g]).val():i},set:function(a,c){var g=d.makeArray(c);d(a).find("option").each(function(){this.selected=d.inArray(d(this).val(),g)>=0});if(!g.length)a.selectedIndex=-1;return g}}},attrFn:{val:true,css:true,html:true,text:true,data:true,
width:true,height:true,offset:true},attrFix:{tabindex:"tabIndex"},attr:function(a,c,g,i){var m=a.nodeType;if(!a||m===3||m===8||m===2)return f;if(i&&c in d.attrFn)return d(a)[c](g);if(!("getAttribute"in a))return d.prop(a,c,g);var e,b;if(i=m!==1||!d.isXMLDoc(a))c=d.attrFix[c]||c,(b=d.attrHooks[c])||(xa.test(c)?b=ya:K&&(b=K));return g!==f?g===null?(d.removeAttr(a,c),f):b&&"set"in b&&i&&(e=b.set(a,g,c))!==f?e:(a.setAttribute(c,""+g),g):b&&"get"in b&&i&&(e=b.get(a,c))!==null?e:(e=a.getAttribute(c),e===
null?f:e)},removeAttr:function(a,c){var g;if(a.nodeType===1&&(c=d.attrFix[c]||c,d.attr(a,c,""),a.removeAttribute(c),xa.test(c)&&(g=d.propFix[c]||c)in a))a[g]=false},attrHooks:{type:{set:function(a,c){if(db.test(a.nodeName)&&a.parentNode)d.error("type property can't be changed");else if(!d.support.radioValue&&c==="radio"&&d.nodeName(a,"input")){var g=a.value;a.setAttribute("type",c);if(g)a.value=g;return c}}},value:{get:function(a,c){return K&&d.nodeName(a,"button")?K.get(a,c):c in a?a.value:null},
set:function(a,c,g){if(K&&d.nodeName(a,"button"))return K.set(a,c,g);a.value=c}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,g){var i=a.nodeType;if(!a||i===3||i===8||i===2)return f;var m,e;if(i!==1||!d.isXMLDoc(a))c=d.propFix[c]||c,e=d.propHooks[c];return g!==
f?e&&"set"in e&&(m=e.set(a,g,c))!==f?m:a[c]=g:e&&"get"in e&&(m=e.get(a,c))!==null?m:a[c]},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):eb.test(a.nodeName)||fb.test(a.nodeName)&&a.href?0:f}}}});d.attrHooks.tabIndex=d.propHooks.tabIndex;ya={get:function(a,c){var g;return d.prop(a,c)===true||(g=a.getAttributeNode(c))&&g.nodeValue!==false?c.toLowerCase():f},set:function(a,c,g){c===false?d.removeAttr(a,g):(c=d.propFix[g]||g,c in a&&
(a[c]=true),a.setAttribute(g,g.toLowerCase()));return g}};if(!d.support.getSetAttribute)K=d.valHooks.button={get:function(a,c){var d;return(d=a.getAttributeNode(c))&&d.nodeValue!==""?d.nodeValue:f},set:function(a,c,d){var i=a.getAttributeNode(d);i||(i=s.createAttribute(d),a.setAttributeNode(i));return i.nodeValue=c+""}},d.each(["width","height"],function(a,c){d.attrHooks[c]=d.extend(d.attrHooks[c],{set:function(a,d){if(d==="")return a.setAttribute(c,"auto"),d}})});d.support.hrefNormalized||d.each(["href",
"src","width","height"],function(a,c){d.attrHooks[c]=d.extend(d.attrHooks[c],{get:function(a){a=a.getAttribute(c,2);return a===null?f:a}})});if(!d.support.style)d.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||f},set:function(a,c){return a.style.cssText=""+c}};if(!d.support.optSelected)d.propHooks.selected=d.extend(d.propHooks.selected,{get:function(){return null}});d.support.checkOn||d.each(["radio","checkbox"],function(){d.valHooks[this]={get:function(a){return a.getAttribute("value")===
null?"on":a.value}}});d.each(["radio","checkbox"],function(){d.valHooks[this]=d.extend(d.valHooks[this],{set:function(a,c){if(d.isArray(c))return a.checked=d.inArray(d(a).val(),c)>=0}})});var ha=/\.(.*)$/,na=/^(?:textarea|input|select)$/i,Ta=/\./g,Ua=/ /g,gb=/[^\w\s.|`]/g,hb=function(a){return a.replace(gb,"\\$&")};d.event={add:function(a,c,g,i){if(!(a.nodeType===3||a.nodeType===8)){if(g===false)g=p;else if(!g)return;var m,e;if(g.handler)m=g,g=m.handler;if(!g.guid)g.guid=d.guid++;if(e=d._data(a)){var b=
e.events,l=e.handle;if(!b)e.events=b={};if(!l)e.handle=l=function(a){return typeof d!=="undefined"&&(!a||d.event.triggered!==a.type)?d.event.handle.apply(l.elem,arguments):f};l.elem=a;for(var c=c.split(" "),h,k=0,n;h=c[k++];){e=m?d.extend({},m):{handler:g,data:i};h.indexOf(".")>-1?(n=h.split("."),h=n.shift(),e.namespace=n.slice(0).sort().join(".")):(n=[],e.namespace="");e.type=h;if(!e.guid)e.guid=g.guid;var j=b[h],u=d.event.special[h]||{};if(!j&&(j=b[h]=[],!u.setup||u.setup.call(a,i,n,l)===false))a.addEventListener?
a.addEventListener(h,l,false):a.attachEvent&&a.attachEvent("on"+h,l);if(u.add&&(u.add.call(a,e),!e.handler.guid))e.handler.guid=g.guid;j.push(e);d.event.global[h]=true}a=null}}},global:{},remove:function(a,c,g,i){if(!(a.nodeType===3||a.nodeType===8)){g===false&&(g=p);var m,e,b=0,l,h,k,n,j,u,q=d.hasData(a)&&d._data(a),o=q&&q.events;if(q&&o){if(c&&c.type)g=c.handler,c=c.type;if(!c||typeof c==="string"&&c.charAt(0)===".")for(m in c=c||"",o)d.event.remove(a,m+c);else{for(c=c.split(" ");m=c[b++];)if(n=
m,l=m.indexOf(".")<0,h=[],l||(h=m.split("."),m=h.shift(),k=RegExp("(^|\\.)"+d.map(h.slice(0).sort(),hb).join("\\.(?:.*\\.)?")+"(\\.|$)")),j=o[m])if(g){n=d.event.special[m]||{};for(e=i||0;e<j.length;e++)if(u=j[e],g.guid===u.guid){if(l||k.test(u.namespace))i==null&&j.splice(e--,1),n.remove&&n.remove.call(a,u);if(i!=null)break}if(j.length===0||i!=null&&j.length===1)(!n.teardown||n.teardown.call(a,h)===false)&&d.removeEvent(a,m,q.handle),delete o[m]}else for(e=0;e<j.length;e++)if(u=j[e],l||k.test(u.namespace))d.event.remove(a,
n,u.handler,e),j.splice(e--,1);if(d.isEmptyObject(o)){if(c=q.handle)c.elem=null;delete q.events;delete q.handle;d.isEmptyObject(q)&&d.removeData(a,f,true)}}}}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(a,c,g,i){var e=a.type||a,b=[],l;e.indexOf("!")>=0&&(e=e.slice(0,-1),l=true);e.indexOf(".")>=0&&(b=e.split("."),e=b.shift(),b.sort());if(g&&!d.event.customEvent[e]||d.event.global[e]){a=typeof a==="object"?a[d.expando]?a:new d.Event(e,a):new d.Event(e);a.type=e;a.exclusive=
l;a.namespace=b.join(".");a.namespace_re=RegExp("(^|\\.)"+b.join("\\.(?:.*\\.)?")+"(\\.|$)");if(i||!g)a.preventDefault(),a.stopPropagation();if(g){if(!(g.nodeType===3||g.nodeType===8)){a.result=f;a.target=g;c=c!=null?d.makeArray(c):[];c.unshift(a);b=g;i=e.indexOf(":")<0?"on"+e:"";do{l=d._data(b,"handle");a.currentTarget=b;l&&l.apply(b,c);if(i&&d.acceptData(b)&&b[i]&&b[i].apply(b,c)===false)a.result=false,a.preventDefault();b=b.parentNode||b.ownerDocument||b===a.target.ownerDocument&&h}while(b&&!a.isPropagationStopped());
if(!a.isDefaultPrevented()){var k,b=d.event.special[e]||{};if((!b._default||b._default.call(g.ownerDocument,a)===false)&&!(e==="click"&&d.nodeName(g,"a"))&&d.acceptData(g)){try{if(i&&g[e])(k=g[i])&&(g[i]=null),d.event.triggered=e,g[e]()}catch(n){}k&&(g[i]=k);d.event.triggered=f}}return a.result}}else d.each(d.cache,function(){var g=this[d.expando];g&&g.events&&g.events[e]&&d.event.trigger(a,c,g.handle.elem)})}},handle:function(a){var a=d.event.fix(a||h.event),c=((d._data(this,"events")||{})[a.type]||
[]).slice(0),g=!a.exclusive&&!a.namespace,i=Array.prototype.slice.call(arguments,0);i[0]=a;a.currentTarget=this;for(var e=0,b=c.length;e<b;e++){var l=c[e];if(g||a.namespace_re.test(l.namespace)){a.handler=l.handler;a.data=l.data;a.handleObj=l;l=l.handler.apply(this,i);if(l!==f)a.result=l,l===false&&(a.preventDefault(),a.stopPropagation());if(a.isImmediatePropagationStopped())break}}return a.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),
fix:function(a){if(a[d.expando])return a;for(var c=a,a=d.Event(c),g=this.props.length,i;g;)i=this.props[--g],a[i]=c[i];if(!a.target)a.target=a.srcElement||s;if(a.target.nodeType===3)a.target=a.target.parentNode;if(!a.relatedTarget&&a.fromElement)a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement;if(a.pageX==null&&a.clientX!=null)g=a.target.ownerDocument||s,c=g.documentElement,g=g.body,a.pageX=a.clientX+(c&&c.scrollLeft||g&&g.scrollLeft||0)-(c&&c.clientLeft||g&&g.clientLeft||0),a.pageY=
a.clientY+(c&&c.scrollTop||g&&g.scrollTop||0)-(c&&c.clientTop||g&&g.clientTop||0);if(a.which==null&&(a.charCode!=null||a.keyCode!=null))a.which=a.charCode!=null?a.charCode:a.keyCode;if(!a.metaKey&&a.ctrlKey)a.metaKey=a.ctrlKey;if(!a.which&&a.button!==f)a.which=a.button&1?1:a.button&2?3:a.button&4?2:0;return a},guid:1E8,proxy:d.proxy,special:{ready:{setup:d.bindReady,teardown:d.noop},live:{add:function(a){d.event.add(this,A(a.origType,a.selector),d.extend({},a,{handler:B,guid:a.handler.guid}))},remove:function(a){d.event.remove(this,
A(a.origType,a.selector),a)}},beforeunload:{setup:function(a,c,g){if(d.isWindow(this))this.onbeforeunload=g},teardown:function(a,c){if(this.onbeforeunload===c)this.onbeforeunload=null}}}};d.removeEvent=s.removeEventListener?function(a,c,d){a.removeEventListener&&a.removeEventListener(c,d,false)}:function(a,c,d){a.detachEvent&&a.detachEvent("on"+c,d)};d.Event=function(a,c){if(!this.preventDefault)return new d.Event(a,c);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||
a.returnValue===false||a.getPreventDefault&&a.getPreventDefault()?o:p):this.type=a;c&&d.extend(this,c);this.timeStamp=d.now();this[d.expando]=true};d.Event.prototype={preventDefault:function(){this.isDefaultPrevented=o;var a=this.originalEvent;if(a)a.preventDefault?a.preventDefault():a.returnValue=false},stopPropagation:function(){this.isPropagationStopped=o;var a=this.originalEvent;if(a)a.stopPropagation&&a.stopPropagation(),a.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=
o;this.stopPropagation()},isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p};var za=function(a){var c=a.relatedTarget,g=false,i=a.type;a.type=a.data;if(c!==this&&(c&&(g=d.contains(this,c)),!g))d.event.handle.apply(this,arguments),a.type=i},Aa=function(a){a.type=a.data;d.event.handle.apply(this,arguments)};d.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,c){d.event.special[a]={setup:function(g){d.event.add(this,c,g&&g.selector?Aa:za,a)},teardown:function(a){d.event.remove(this,
c,a&&a.selector?Aa:za)}}});if(!d.support.submitBubbles)d.event.special.submit={setup:function(){if(d.nodeName(this,"form"))return false;else d.event.add(this,"click.specialSubmit",function(a){var c=a.target,g=d.nodeName(c,"input")||d.nodeName(c,"button")?c.type:"";(g==="submit"||g==="image")&&d(c).closest("form").length&&v("submit",this,arguments)}),d.event.add(this,"keypress.specialSubmit",function(a){var c=a.target,g=d.nodeName(c,"input")||d.nodeName(c,"button")?c.type:"";(g==="text"||g==="password")&&
d(c).closest("form").length&&a.keyCode===13&&v("submit",this,arguments)})},teardown:function(){d.event.remove(this,".specialSubmit")}};if(!d.support.changeBubbles){var aa,Ba=function(a){var c=d.nodeName(a,"input")?a.type:"",g=a.value;if(c==="radio"||c==="checkbox")g=a.checked;else if(c==="select-multiple")g=a.selectedIndex>-1?d.map(a.options,function(a){return a.selected}).join("-"):"";else if(d.nodeName(a,"select"))g=a.selectedIndex;return g},ea=function(a,c){var g=a.target,i,e;if(na.test(g.nodeName)&&
!g.readOnly&&(i=d._data(g,"_change_data"),e=Ba(g),(a.type!=="focusout"||g.type!=="radio")&&d._data(g,"_change_data",e),!(i===f||e===i)))if(i!=null||e)a.type="change",a.liveFired=f,d.event.trigger(a,c,g)};d.event.special.change={filters:{focusout:ea,beforedeactivate:ea,click:function(a){var c=a.target,g=d.nodeName(c,"input")?c.type:"";(g==="radio"||g==="checkbox"||d.nodeName(c,"select"))&&ea.call(this,a)},keydown:function(a){var c=a.target,g=d.nodeName(c,"input")?c.type:"";(a.keyCode===13&&!d.nodeName(c,
"textarea")||a.keyCode===32&&(g==="checkbox"||g==="radio")||g==="select-multiple")&&ea.call(this,a)},beforeactivate:function(a){a=a.target;d._data(a,"_change_data",Ba(a))}},setup:function(){if(this.type==="file")return false;for(var a in aa)d.event.add(this,a+".specialChange",aa[a]);return na.test(this.nodeName)},teardown:function(){d.event.remove(this,".specialChange");return na.test(this.nodeName)}};aa=d.event.special.change.filters;aa.focus=aa.beforeactivate}d.support.focusinBubbles||d.each({focus:"focusin",
blur:"focusout"},function(a,c){function g(a){var g=d.event.fix(a);g.type=c;g.originalEvent={};d.event.trigger(g,null,g.target);g.isDefaultPrevented()&&a.preventDefault()}var i=0;d.event.special[c]={setup:function(){i++===0&&s.addEventListener(a,g,true)},teardown:function(){--i===0&&s.removeEventListener(a,g,true)}}});d.each(["bind","one"],function(a,c){d.fn[c]=function(a,i,e){var b;if(typeof a==="object"){for(var l in a)this[c](l,i,a[l],e);return this}if(arguments.length===2||i===false)e=i,i=f;c===
"one"?(b=function(a){d(this).unbind(a,b);return e.apply(this,arguments)},b.guid=e.guid||d.guid++):b=e;if(a==="unload"&&c!=="one")this.one(a,i,e);else{l=0;for(var h=this.length;l<h;l++)d.event.add(this[l],a,b,i)}return this}});d.fn.extend({unbind:function(a,c){if(typeof a==="object"&&!a.preventDefault)for(var g in a)this.unbind(g,a[g]);else{g=0;for(var i=this.length;g<i;g++)d.event.remove(this[g],a,c)}return this},delegate:function(a,c,d,i){return this.live(c,d,i,a)},undelegate:function(a,c,d){return arguments.length===
0?this.unbind("live"):this.die(c,null,d,a)},trigger:function(a,c){return this.each(function(){d.event.trigger(a,c,this)})},triggerHandler:function(a,c){if(this[0])return d.event.trigger(a,c,this[0],true)},toggle:function(a){var c=arguments,g=a.guid||d.guid++,i=0,e=function(g){var e=(d.data(this,"lastToggle"+a.guid)||0)%i;d.data(this,"lastToggle"+a.guid,e+1);g.preventDefault();return c[e].apply(this,arguments)||false};for(e.guid=g;i<c.length;)c[i++].guid=g;return this.click(e)},hover:function(a,c){return this.mouseenter(a).mouseleave(c||
a)}});var oa={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};d.each(["live","die"],function(a,c){d.fn[c]=function(a,i,e,b){var l=0,h,k,n=b||this.selector,j=b?this:d(this.context);if(typeof a==="object"&&!a.preventDefault){for(h in a)j[c](h,i,a[h],n);return this}if(c==="die"&&!a&&b&&b.charAt(0)===".")return j.unbind(b),this;if(i===false||d.isFunction(i))e=i||p,i=f;for(a=(a||"").split(" ");(b=a[l++])!=null;)if(h=ha.exec(b),k="",h&&(k=h[0],b=b.replace(ha,"")),b==="hover")a.push("mouseenter"+
k,"mouseleave"+k);else if(h=b,oa[b]?(a.push(oa[b]+k),b+=k):b=(oa[b]||b)+k,c==="live"){k=0;for(var u=j.length;k<u;k++)d.event.add(j[k],"live."+A(b,n),{data:i,selector:n,handler:e,origType:b,origHandler:e,preType:h})}else j.unbind("live."+A(b,n),e);return this}});d.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(a,c){d.fn[c]=function(a,
d){d==null&&(d=a,a=null);return arguments.length>0?this.bind(c,a,d):this.trigger(c)};d.attrFn&&(d.attrFn[c]=true)});(function(){function a(a,c,d,g,i,e){for(var i=0,b=g.length;i<b;i++){var m=g[i];if(m){for(var f=false,m=m[a];m;){if(m.sizcache===d){f=g[m.sizset];break}if(m.nodeType===1&&!e)m.sizcache=d,m.sizset=i;if(m.nodeName.toLowerCase()===c){f=m;break}m=m[a]}g[i]=f}}}function c(a,c,d,g,i,e){for(var i=0,b=g.length;i<b;i++){var m=g[i];if(m){for(var f=false,m=m[a];m;){if(m.sizcache===d){f=g[m.sizset];
break}if(m.nodeType===1){if(!e)m.sizcache=d,m.sizset=i;if(typeof c!=="string"){if(m===c){f=true;break}}else if(n.filter(c,[m]).length>0){f=m;break}}m=m[a]}g[i]=f}}}var g=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,i=0,e=Object.prototype.toString,b=false,l=true,h=/\\/g,k=/\W/;[0,0].sort(function(){l=false;return 0});var n=function(a,c,d,i){var d=d||[],b=c=c||s;if(c.nodeType!==1&&c.nodeType!==9)return[];if(!a||
typeof a!=="string")return d;var f,l,h,t,k,Q=true,o=n.isXML(c),q=[],r=a;do if(g.exec(""),f=g.exec(r))if(r=f[3],q.push(f[1]),f[2]){t=f[3];break}while(f);if(q.length>1&&u.exec(a))if(q.length===2&&j.relative[q[0]])l=D(q[0]+q[1],c);else for(l=j.relative[q[0]]?[c]:n(q.shift(),c);q.length;)a=q.shift(),j.relative[a]&&(a+=q.shift()),l=D(a,l);else if(!i&&q.length>1&&c.nodeType===9&&!o&&j.match.ID.test(q[0])&&!j.match.ID.test(q[q.length-1])&&(f=n.find(q.shift(),c,o),c=f.expr?n.filter(f.expr,f.set)[0]:f.set[0]),
c){f=i?{expr:q.pop(),set:y(i)}:n.find(q.pop(),q.length===1&&(q[0]==="~"||q[0]==="+")&&c.parentNode?c.parentNode:c,o);l=f.expr?n.filter(f.expr,f.set):f.set;for(q.length>0?h=y(l):Q=false;q.length;)f=k=q.pop(),j.relative[k]?f=q.pop():k="",f==null&&(f=c),j.relative[k](h,f,o)}else h=[];h||(h=l);h||n.error(k||a);if(e.call(h)==="[object Array]")if(Q)if(c&&c.nodeType===1)for(a=0;h[a]!=null;a++)h[a]&&(h[a]===true||h[a].nodeType===1&&n.contains(c,h[a]))&&d.push(l[a]);else for(a=0;h[a]!=null;a++)h[a]&&h[a].nodeType===
1&&d.push(l[a]);else d.push.apply(d,h);else y(h,d);t&&(n(t,b,d,i),n.uniqueSort(d));return d};n.uniqueSort=function(a){if(p&&(b=l,a.sort(p),b))for(var c=1;c<a.length;c++)a[c]===a[c-1]&&a.splice(c--,1);return a};n.matches=function(a,c){return n(a,null,null,c)};n.matchesSelector=function(a,c){return n(c,null,null,[a]).length>0};n.find=function(a,c,d){var g;if(!a)return[];for(var i=0,e=j.order.length;i<e;i++){var b,m=j.order[i];if(b=j.leftMatch[m].exec(a)){var f=b[1];b.splice(1,1);if(f.substr(f.length-
1)!=="\\"&&(b[1]=(b[1]||"").replace(h,""),g=j.find[m](b,c,d),g!=null)){a=a.replace(j.match[m],"");break}}}g||(g=typeof c.getElementsByTagName!=="undefined"?c.getElementsByTagName("*"):[]);return{set:g,expr:a}};n.filter=function(a,c,d,g){for(var i,e,b=a,m=[],l=c,h=c&&c[0]&&n.isXML(c[0]);a&&c.length;){for(var t in j.filter)if((i=j.leftMatch[t].exec(a))!=null&&i[2]){var k,u,q=j.filter[t];u=i[1];e=false;i.splice(1,1);if(u.substr(u.length-1)!=="\\"){l===m&&(m=[]);if(j.preFilter[t])if(i=j.preFilter[t](i,
l,d,m,g,h)){if(i===true)continue}else e=k=true;if(i)for(var Q=0;(u=l[Q])!=null;Q++)if(u){k=q(u,i,Q,l);var o=g^!!k;d&&k!=null?o?e=true:l[Q]=false:o&&(m.push(u),e=true)}if(k!==f){d||(l=m);a=a.replace(j.match[t],"");if(!e)return[];break}}}if(a===b)if(e==null)n.error(a);else break;b=a}return l};n.error=function(a){throw"Syntax error, unrecognized expression: "+a;};var j=n.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,
ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},
type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,c){var d=typeof c==="string",g=d&&!k.test(c),d=d&&!g;g&&(c=c.toLowerCase());for(var g=0,i=a.length,e;g<i;g++)if(e=a[g]){for(;(e=e.previousSibling)&&e.nodeType!==1;);a[g]=d||e&&e.nodeName.toLowerCase()===c?e||false:e===c}d&&n.filter(c,a,true)},">":function(a,c){var d,g=typeof c==="string",i=0,e=a.length;if(g&&!k.test(c))for(c=c.toLowerCase();i<e;i++){if(d=a[i])d=d.parentNode,a[i]=d.nodeName.toLowerCase()===c?d:false}else{for(;i<
e;i++)(d=a[i])&&(a[i]=g?d.parentNode:d.parentNode===c);g&&n.filter(c,a,true)}},"":function(d,g,e){var b,m=i++,f=c;typeof g==="string"&&!k.test(g)&&(b=g=g.toLowerCase(),f=a);f("parentNode",g,m,d,b,e)},"~":function(d,g,e){var b,m=i++,f=c;typeof g==="string"&&!k.test(g)&&(b=g=g.toLowerCase(),f=a);f("previousSibling",g,m,d,b,e)}},find:{ID:function(a,c,d){if(typeof c.getElementById!=="undefined"&&!d)return(a=c.getElementById(a[1]))&&a.parentNode?[a]:[]},NAME:function(a,c){if(typeof c.getElementsByName!==
"undefined"){for(var d=[],g=c.getElementsByName(a[1]),i=0,e=g.length;i<e;i++)g[i].getAttribute("name")===a[1]&&d.push(g[i]);return d.length===0?null:d}},TAG:function(a,c){if(typeof c.getElementsByTagName!=="undefined")return c.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,c,d,g,i,e){a=" "+a[1].replace(h,"")+" ";if(e)return a;for(var e=0,b;(b=c[e])!=null;e++)b&&(i^(b.className&&(" "+b.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?d||g.push(b):d&&(c[e]=false));return false},ID:function(a){return a[1].replace(h,
"")},TAG:function(a){return a[1].replace(h,"").toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||n.error(a[0]);a[2]=a[2].replace(/^\+|\s*/g,"");var c=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=c[1]+(c[2]||1)-0;a[3]=c[3]-0}else a[2]&&n.error(a[0]);a[0]=i++;return a},ATTR:function(a,c,d,g,i,e){c=a[1]=a[1].replace(h,"");!e&&j.attrMap[c]&&(a[1]=j.attrMap[c]);a[4]=(a[4]||a[5]||"").replace(h,"");a[2]==="~="&&(a[4]=" "+a[4]+
" ");return a},PSEUDO:function(a,c,d,i,e){if(a[1]==="not")if((g.exec(a[3])||"").length>1||/^\w/.test(a[3]))a[3]=n(a[3],null,null,c);else return a=n.filter(a[3],c,d,1^e),d||i.push.apply(i,a),false;else if(j.match.POS.test(a[0])||j.match.CHILD.test(a[0]))return true;return a},POS:function(a){a.unshift(true);return a}},filters:{enabled:function(a){return a.disabled===false&&a.type!=="hidden"},disabled:function(a){return a.disabled===true},checked:function(a){return a.checked===true},selected:function(a){return a.selected===
true},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,c,d){return!!n(d[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var c=a.getAttribute("type"),d=a.type;return a.nodeName.toLowerCase()==="input"&&"text"===d&&(c===d||c===null)},radio:function(a){return a.nodeName.toLowerCase()==="input"&&"radio"===a.type},checkbox:function(a){return a.nodeName.toLowerCase()==="input"&&"checkbox"===a.type},file:function(a){return a.nodeName.toLowerCase()===
"input"&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()==="input"&&"password"===a.type},submit:function(a){var c=a.nodeName.toLowerCase();return(c==="input"||c==="button")&&"submit"===a.type},image:function(a){return a.nodeName.toLowerCase()==="input"&&"image"===a.type},reset:function(a){var c=a.nodeName.toLowerCase();return(c==="input"||c==="button")&&"reset"===a.type},button:function(a){var c=a.nodeName.toLowerCase();return c==="input"&&"button"===a.type||c==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},
focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,c){return c===0},last:function(a,c,d,g){return c===g.length-1},even:function(a,c){return c%2===0},odd:function(a,c){return c%2===1},lt:function(a,c,d){return c<d[3]-0},gt:function(a,c,d){return c>d[3]-0},nth:function(a,c,d){return d[3]-0===c},eq:function(a,c,d){return d[3]-0===c}},filter:{PSEUDO:function(a,c,d,g){var i=c[1],e=j.filters[i];if(e)return e(a,d,c,g);else if(i==="contains")return(a.textContent||a.innerText||
n.getText([a])||"").indexOf(c[3])>=0;else if(i==="not"){c=c[3];d=0;for(g=c.length;d<g;d++)if(c[d]===a)return false;return true}else n.error(i)},CHILD:function(a,c){var d=c[1],g=a;switch(d){case "only":case "first":for(;g=g.previousSibling;)if(g.nodeType===1)return false;if(d==="first")return true;g=a;case "last":for(;g=g.nextSibling;)if(g.nodeType===1)return false;return true;case "nth":var d=c[2],i=c[3];if(d===1&&i===0)return true;var e=c[0],b=a.parentNode;if(b&&(b.sizcache!==e||!a.nodeIndex)){for(var m=
0,g=b.firstChild;g;g=g.nextSibling)if(g.nodeType===1)g.nodeIndex=++m;b.sizcache=e}g=a.nodeIndex-i;return d===0?g===0:g%d===0&&g/d>=0}},ID:function(a,c){return a.nodeType===1&&a.getAttribute("id")===c},TAG:function(a,c){return c==="*"&&a.nodeType===1||a.nodeName.toLowerCase()===c},CLASS:function(a,c){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(c)>-1},ATTR:function(a,c){var d=c[1],d=j.attrHandle[d]?j.attrHandle[d](a):a[d]!=null?a[d]:a.getAttribute(d),g=d+"",i=c[2],e=c[4];return d==
null?i==="!=":i==="="?g===e:i==="*="?g.indexOf(e)>=0:i==="~="?(" "+g+" ").indexOf(e)>=0:!e?g&&d!==false:i==="!="?g!==e:i==="^="?g.indexOf(e)===0:i==="$="?g.substr(g.length-e.length)===e:i==="|="?g===e||g.substr(0,e.length+1)===e+"-":false},POS:function(a,c,d,g){var i=j.setFilters[c[2]];if(i)return i(a,d,c,g)}}},u=j.match.POS,q=function(a,c){return"\\"+(c-0+1)},o;for(o in j.match)j.match[o]=RegExp(j.match[o].source+/(?![^\[]*\])(?![^\(]*\))/.source),j.leftMatch[o]=RegExp(/(^(?:.|\r|\n)*?)/.source+
j.match[o].source.replace(/\\(\d+)/g,q));var y=function(a,c){a=Array.prototype.slice.call(a,0);return c?(c.push.apply(c,a),c):a};try{Array.prototype.slice.call(s.documentElement.childNodes,0)}catch(r){y=function(a,c){var d=0,g=c||[];if(e.call(a)==="[object Array]")Array.prototype.push.apply(g,a);else if(typeof a.length==="number")for(var i=a.length;d<i;d++)g.push(a[d]);else for(;a[d];d++)g.push(a[d]);return g}}var p,C;s.documentElement.compareDocumentPosition?p=function(a,c){return a===c?(b=true,
0):!a.compareDocumentPosition||!c.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(c)&4?-1:1}:(p=function(a,c){if(a===c)return b=true,0;else if(a.sourceIndex&&c.sourceIndex)return a.sourceIndex-c.sourceIndex;var d,g,i=[],e=[];d=a.parentNode;g=c.parentNode;var m=d;if(d===g)return C(a,c);else if(d){if(!g)return 1}else return-1;for(;m;)i.unshift(m),m=m.parentNode;for(m=g;m;)e.unshift(m),m=m.parentNode;d=i.length;g=e.length;for(m=0;m<d&&m<g;m++)if(i[m]!==e[m])return C(i[m],
e[m]);return m===d?C(a,e[m],-1):C(i[m],c,1)},C=function(a,c,d){if(a===c)return d;for(a=a.nextSibling;a;){if(a===c)return-1;a=a.nextSibling}return 1});n.getText=function(a){for(var c="",d,g=0;a[g];g++)d=a[g],d.nodeType===3||d.nodeType===4?c+=d.nodeValue:d.nodeType!==8&&(c+=n.getText(d.childNodes));return c};(function(){var a=s.createElement("div"),c="script"+(new Date).getTime(),d=s.documentElement;a.innerHTML="<a name='"+c+"'/>";d.insertBefore(a,d.firstChild);if(s.getElementById(c))j.find.ID=function(a,
c,d){if(typeof c.getElementById!=="undefined"&&!d)return(c=c.getElementById(a[1]))?c.id===a[1]||typeof c.getAttributeNode!=="undefined"&&c.getAttributeNode("id").nodeValue===a[1]?[c]:f:[]},j.filter.ID=function(a,c){var d=typeof a.getAttributeNode!=="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&d&&d.nodeValue===c};d.removeChild(a);d=a=null})();(function(){var a=s.createElement("div");a.appendChild(s.createComment(""));if(a.getElementsByTagName("*").length>0)j.find.TAG=function(a,c){var d=
c.getElementsByTagName(a[1]);if(a[1]==="*"){for(var g=[],i=0;d[i];i++)d[i].nodeType===1&&g.push(d[i]);d=g}return d};a.innerHTML="<a href='#'></a>";if(a.firstChild&&typeof a.firstChild.getAttribute!=="undefined"&&a.firstChild.getAttribute("href")!=="#")j.attrHandle.href=function(a){return a.getAttribute("href",2)};a=null})();s.querySelectorAll&&function(){var a=n,c=s.createElement("div");c.innerHTML="<p class='TEST'></p>";if(!(c.querySelectorAll&&c.querySelectorAll(".TEST").length===0)){n=function(c,
d,g,i){d=d||s;if(!i&&!n.isXML(d)){var e=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(c);if(e&&(d.nodeType===1||d.nodeType===9))if(e[1])return y(d.getElementsByTagName(c),g);else if(e[2]&&j.find.CLASS&&d.getElementsByClassName)return y(d.getElementsByClassName(e[2]),g);if(d.nodeType===9){if(c==="body"&&d.body)return y([d.body],g);else if(e&&e[3]){var b=d.getElementById(e[3]);if(b&&b.parentNode){if(b.id===e[3])return y([b],g)}else return y([],g)}try{return y(d.querySelectorAll(c),g)}catch(m){}}else if(d.nodeType===
1&&d.nodeName.toLowerCase()!=="object"){var e=d,f=(b=d.getAttribute("id"))||"__sizzle__",l=d.parentNode,h=/^\s*[+~]/.test(c);b?f=f.replace(/'/g,"\\$&"):d.setAttribute("id",f);if(h&&l)d=d.parentNode;try{if(!h||l)return y(d.querySelectorAll("[id='"+f+"'] "+c),g)}catch(t){}finally{b||e.removeAttribute("id")}}}return a(c,d,g,i)};for(var d in a)n[d]=a[d];c=null}}();(function(){var a=s.documentElement,c=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(c){var d=!c.call(s.createElement("div"),
"div"),g=false;try{c.call(s.documentElement,"[test!='']:sizzle")}catch(i){g=true}n.matchesSelector=function(a,i){i=i.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!n.isXML(a))try{if(g||!j.match.PSEUDO.test(i)&&!/!=/.test(i)){var e=c.call(a,i);if(e||!d||a.document&&a.document.nodeType!==11)return e}}catch(b){}return n(i,null,null,[a]).length>0}}})();(function(){var a=s.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(a.getElementsByClassName&&a.getElementsByClassName("e").length!==
0&&(a.lastChild.className="e",a.getElementsByClassName("e").length!==1))j.order.splice(1,0,"CLASS"),j.find.CLASS=function(a,c,d){if(typeof c.getElementsByClassName!=="undefined"&&!d)return c.getElementsByClassName(a[1])},a=null})();n.contains=s.documentElement.contains?function(a,c){return a!==c&&(a.contains?a.contains(c):true)}:s.documentElement.compareDocumentPosition?function(a,c){return!!(a.compareDocumentPosition(c)&16)}:function(){return false};n.isXML=function(a){return(a=(a?a.ownerDocument||
a:0).documentElement)?a.nodeName!=="HTML":false};var D=function(a,c){for(var d,g=[],i="",e=c.nodeType?[c]:c;d=j.match.PSEUDO.exec(a);)i+=d[0],a=a.replace(j.match.PSEUDO,"");a=j.relative[a]?a+"*":a;d=0;for(var b=e.length;d<b;d++)n(a,e[d],g);return n.filter(i,g)};d.find=n;d.expr=n.selectors;d.expr[":"]=d.expr.filters;d.unique=n.uniqueSort;d.text=n.getText;d.isXMLDoc=n.isXML;d.contains=n.contains})();var ib=/Until$/,jb=/^(?:parents|prevUntil|prevAll)/,kb=/,/,Va=/^.[^:#\[\.,]*$/,lb=Array.prototype.slice,
Ca=d.expr.match.POS,mb={children:true,contents:true,next:true,prev:true};d.fn.extend({find:function(a){var c=this,g,i;if(typeof a!=="string")return d(a).filter(function(){for(g=0,i=c.length;g<i;g++)if(d.contains(c[g],this))return true});var e=this.pushStack("","find",a),b,f,l;for(g=0,i=this.length;g<i;g++)if(b=e.length,d.find(a,this[g],e),g>0)for(f=b;f<e.length;f++)for(l=0;l<b;l++)if(e[l]===e[f]){e.splice(f--,1);break}return e},has:function(a){var c=d(a);return this.filter(function(){for(var a=0,
i=c.length;a<i;a++)if(d.contains(this,c[a]))return true})},not:function(a){return this.pushStack(z(this,a,false),"not",a)},filter:function(a){return this.pushStack(z(this,a,true),"filter",a)},is:function(a){return!!a&&(typeof a==="string"?d.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,c){var g=[],i,e,b=this[0];if(d.isArray(a)){var f,l={},h=1;if(b&&a.length){for(i=0,e=a.length;i<e;i++)f=a[i],l[f]||(l[f]=Ca.test(f)?d(f,c||this.context):f);for(;b&&b.ownerDocument&&b!==c;){for(f in l)i=
l[f],(i.jquery?i.index(b)>-1:d(b).is(i))&&g.push({selector:f,elem:b,level:h});b=b.parentNode;h++}}return g}f=Ca.test(a)||typeof a!=="string"?d(a,c||this.context):0;for(i=0,e=this.length;i<e;i++)for(b=this[i];b;)if(f?f.index(b)>-1:d.find.matchesSelector(b,a)){g.push(b);break}else if(b=b.parentNode,!b||!b.ownerDocument||b===c||b.nodeType===11)break;g=g.length>1?d.unique(g):g;return this.pushStack(g,"closest",a)},index:function(a){return!a?this[0]&&this[0].parentNode?this.prevAll().length:-1:typeof a===
"string"?d.inArray(this[0],d(a)):d.inArray(a.jquery?a[0]:a,this)},add:function(a,c){var g=typeof a==="string"?d(a,c):d.makeArray(a&&a.nodeType?[a]:a),i=d.merge(this.get(),g);return this.pushStack(!g[0]||!g[0].parentNode||g[0].parentNode.nodeType===11||!i[0]||!i[0].parentNode||i[0].parentNode.nodeType===11?i:d.unique(i))},andSelf:function(){return this.add(this.prevObject)}});d.each({parent:function(a){return(a=a.parentNode)&&a.nodeType!==11?a:null},parents:function(a){return d.dir(a,"parentNode")},
parentsUntil:function(a,c,g){return d.dir(a,"parentNode",g)},next:function(a){return d.nth(a,2,"nextSibling")},prev:function(a){return d.nth(a,2,"previousSibling")},nextAll:function(a){return d.dir(a,"nextSibling")},prevAll:function(a){return d.dir(a,"previousSibling")},nextUntil:function(a,c,g){return d.dir(a,"nextSibling",g)},prevUntil:function(a,c,g){return d.dir(a,"previousSibling",g)},siblings:function(a){return d.sibling(a.parentNode.firstChild,a)},children:function(a){return d.sibling(a.firstChild)},
contents:function(a){return d.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:d.makeArray(a.childNodes)}},function(a,c){d.fn[a]=function(g,i){var e=d.map(this,c,g),b=lb.call(arguments);ib.test(a)||(i=g);i&&typeof i==="string"&&(e=d.filter(i,e));e=this.length>1&&!mb[a]?d.unique(e):e;if((this.length>1||kb.test(i))&&jb.test(a))e=e.reverse();return this.pushStack(e,a,b.join(","))}});d.extend({filter:function(a,c,g){g&&(a=":not("+a+")");return c.length===1?d.find.matchesSelector(c[0],
a)?[c[0]]:[]:d.find.matches(a,c)},dir:function(a,c,g){for(var i=[],a=a[c];a&&a.nodeType!==9&&(g===f||a.nodeType!==1||!d(a).is(g));)a.nodeType===1&&i.push(a),a=a[c];return i},nth:function(a,c,d){for(var c=c||1,i=0;a;a=a[d])if(a.nodeType===1&&++i===c)break;return a},sibling:function(a,c){for(var d=[];a;a=a.nextSibling)a.nodeType===1&&a!==c&&d.push(a);return d}});var nb=/ jQuery\d+="(?:\d+|null)"/g,pa=/^\s+/,Da=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Ea=/<([\w:]+)/,
ob=/<tbody/i,pb=/<|&#?\w+;/,Fa=/<(?:script|object|embed|option|style)/i,Ga=/checked\s*(?:[^=]|=\s*.checked.)/i,qb=/\/(java|ecma)script/i,Wa=/^\s*<!(?:\[CDATA\[|\-\-)/,E={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};E.optgroup=
E.option;E.tbody=E.tfoot=E.colgroup=E.caption=E.thead;E.th=E.td;if(!d.support.htmlSerialize)E._default=[1,"div<div>","</div>"];d.fn.extend({text:function(a){return d.isFunction(a)?this.each(function(c){var g=d(this);g.text(a.call(this,c,g.text()))}):typeof a!=="object"&&a!==f?this.empty().append((this[0]&&this[0].ownerDocument||s).createTextNode(a)):d.text(this)},wrapAll:function(a){if(d.isFunction(a))return this.each(function(c){d(this).wrapAll(a.call(this,c))});if(this[0]){var c=d(a,this[0].ownerDocument).eq(0).clone(true);
this[0].parentNode&&c.insertBefore(this[0]);c.map(function(){for(var a=this;a.firstChild&&a.firstChild.nodeType===1;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return d.isFunction(a)?this.each(function(c){d(this).wrapInner(a.call(this,c))}):this.each(function(){var c=d(this),g=c.contents();g.length?g.wrapAll(a):c.append(a)})},wrap:function(a){return this.each(function(){d(this).wrapAll(a)})},unwrap:function(){return this.parent().each(function(){d.nodeName(this,"body")||
d(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(a){this.parentNode.insertBefore(a,this)});else if(arguments.length){var a=d(arguments[0]);a.push.apply(a,this.toArray());return this.pushStack(a,
"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(a){this.parentNode.insertBefore(a,this.nextSibling)});else if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,d(arguments[0]).toArray());return a}},remove:function(a,c){for(var g=0,i;(i=this[g])!=null;g++)if(!a||d.filter(a,[i]).length)!c&&i.nodeType===1&&(d.cleanData(i.getElementsByTagName("*")),d.cleanData([i])),i.parentNode&&i.parentNode.removeChild(i);
return this},empty:function(){for(var a=0,c;(c=this[a])!=null;a++)for(c.nodeType===1&&d.cleanData(c.getElementsByTagName("*"));c.firstChild;)c.removeChild(c.firstChild);return this},clone:function(a,c){a=a==null?false:a;c=c==null?a:c;return this.map(function(){return d.clone(this,a,c)})},html:function(a){if(a===f)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(nb,""):null;else if(typeof a==="string"&&!Fa.test(a)&&(d.support.leadingWhitespace||!pa.test(a))&&!E[(Ea.exec(a)||["",""])[1].toLowerCase()]){a=
a.replace(Da,"<$1></$2>");try{for(var c=0,g=this.length;c<g;c++)if(this[c].nodeType===1)d.cleanData(this[c].getElementsByTagName("*")),this[c].innerHTML=a}catch(i){this.empty().append(a)}}else d.isFunction(a)?this.each(function(c){var g=d(this);g.html(a.call(this,c,g.html()))}):this.empty().append(a);return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(d.isFunction(a))return this.each(function(c){var g=d(this),i=g.html();g.replaceWith(a.call(this,c,i))});typeof a!=="string"&&(a=
d(a).detach());return this.each(function(){var c=this.nextSibling,g=this.parentNode;d(this).remove();c?d(c).before(a):d(g).append(a)})}else return this.length?this.pushStack(d(d.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,true)},domManip:function(a,c,g){var i,e,b,h=a[0],n=[];if(!d.support.checkClone&&arguments.length===3&&typeof h==="string"&&Ga.test(h))return this.each(function(){d(this).domManip(a,c,g,true)});if(d.isFunction(h))return this.each(function(i){var e=
d(this);a[0]=h.call(this,i,c?e.html():f);e.domManip(a,c,g)});if(this[0]){i=h&&h.parentNode;i=d.support.parentNode&&i&&i.nodeType===11&&i.childNodes.length===this.length?{fragment:i}:d.buildFragment(a,this,n);b=i.fragment;if(e=b.childNodes.length===1?b=b.firstChild:b.firstChild){c=c&&d.nodeName(e,"tr");e=0;for(var k=this.length,j=k-1;e<k;e++)g.call(c?d.nodeName(this[e],"table")?this[e].getElementsByTagName("tbody")[0]||this[e].appendChild(this[e].ownerDocument.createElement("tbody")):this[e]:this[e],
i.cacheable||k>1&&e<j?d.clone(b,true,true):b)}n.length&&d.each(n,l)}return this}});d.buildFragment=function(a,c,g){var i,e,b,f;c&&c[0]&&(f=c[0].ownerDocument||c[0]);f.createDocumentFragment||(f=s);if(a.length===1&&typeof a[0]==="string"&&a[0].length<512&&f===s&&a[0].charAt(0)==="<"&&!Fa.test(a[0])&&(d.support.checkClone||!Ga.test(a[0])))e=true,(b=d.fragments[a[0]])&&b!==1&&(i=b);i||(i=f.createDocumentFragment(),d.clean(a,f,i,g));e&&(d.fragments[a[0]]=b?i:1);return{fragment:i,cacheable:e}};d.fragments=
{};d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,c){d.fn[a]=function(g){var i=[],g=d(g),e=this.length===1&&this[0].parentNode;if(e&&e.nodeType===11&&e.childNodes.length===1&&g.length===1)return g[c](this[0]),this;else{for(var e=0,b=g.length;e<b;e++){var f=(e>0?this.clone(true):this).get();d(g[e])[c](f);i=i.concat(f)}return this.pushStack(i,a,g.selector)}}});d.extend({clone:function(a,c,g){var i=a.cloneNode(true),e,b,f;
if((!d.support.noCloneEvent||!d.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!d.isXMLDoc(a)){r(a,i);e=x(a);b=x(i);for(f=0;e[f];++f)b[f]&&r(e[f],b[f])}if(c&&(G(a,i),g)){e=x(a);b=x(i);for(f=0;e[f];++f)G(e[f],b[f])}return i},clean:function(a,c,g,i){c=c||s;typeof c.createElement==="undefined"&&(c=c.ownerDocument||c[0]&&c[0].ownerDocument||s);for(var b=[],f,l=0,h;(h=a[l])!=null;l++)if(typeof h==="number"&&(h+=""),h){if(typeof h==="string")if(pb.test(h)){h=h.replace(Da,"<$1></$2>");f=(Ea.exec(h)||
["",""])[1].toLowerCase();var n=E[f]||E._default,k=n[0],j=c.createElement("div");for(j.innerHTML=n[1]+h+n[2];k--;)j=j.lastChild;if(!d.support.tbody){k=ob.test(h);n=f==="table"&&!k?j.firstChild&&j.firstChild.childNodes:n[1]==="<table>"&&!k?j.childNodes:[];for(f=n.length-1;f>=0;--f)d.nodeName(n[f],"tbody")&&!n[f].childNodes.length&&n[f].parentNode.removeChild(n[f])}!d.support.leadingWhitespace&&pa.test(h)&&j.insertBefore(c.createTextNode(pa.exec(h)[0]),j.firstChild);h=j.childNodes}else h=c.createTextNode(h);
var u;if(!d.support.appendChecked)if(h[0]&&typeof(u=h.length)==="number")for(f=0;f<u;f++)e(h[f]);else e(h);h.nodeType?b.push(h):b=d.merge(b,h)}if(g){a=function(a){return!a.type||qb.test(a.type)};for(l=0;b[l];l++)i&&d.nodeName(b[l],"script")&&(!b[l].type||b[l].type.toLowerCase()==="text/javascript")?i.push(b[l].parentNode?b[l].parentNode.removeChild(b[l]):b[l]):(b[l].nodeType===1&&(c=d.grep(b[l].getElementsByTagName("script"),a),b.splice.apply(b,[l+1,0].concat(c))),g.appendChild(b[l]))}return b},cleanData:function(a){for(var c,
g,i=d.cache,e=d.expando,b=d.event.special,f=d.support.deleteExpando,l=0,h;(h=a[l])!=null;l++)if(!h.nodeName||!d.noData[h.nodeName.toLowerCase()])if(g=h[d.expando]){if((c=i[g]&&i[g][e])&&c.events){for(var n in c.events)b[n]?d.event.remove(h,n):d.removeEvent(h,n,c.handle);if(c.handle)c.handle.elem=null}f?delete h[d.expando]:h.removeAttribute&&h.removeAttribute(d.expando);delete i[g]}}});var qa=/alpha\([^)]*\)/i,rb=/opacity=([^)]*)/,sb=/([A-Z]|^ms)/g,Ha=/^-?\d+(?:px)?$/i,tb=/^-?\d/,ub=/^([\-+])=([\-+.\de]+)/,
vb={position:"absolute",visibility:"hidden",display:"block"},Xa=["Left","Right"],Ya=["Top","Bottom"],T,Ia,Ja;d.fn.css=function(a,c){return arguments.length===2&&c===f?this:d.access(this,a,c,true,function(a,c,e){return e!==f?d.style(a,c,e):d.css(a,c)})};d.extend({cssHooks:{opacity:{get:function(a,c){if(c){var d=T(a,"opacity","opacity");return d===""?"1":d}else return a.style.opacity}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},
cssProps:{"float":d.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,g,i){if(a&&!(a.nodeType===3||a.nodeType===8||!a.style)){var e,b=d.camelCase(c),l=a.style,h=d.cssHooks[b],c=d.cssProps[b]||b;if(g!==f){i=typeof g;if(i==="string"&&(e=ub.exec(g)))g=+(e[1]+1)*+e[2]+parseFloat(d.css(a,c)),i="number";if(!(g==null||i==="number"&&isNaN(g)))if(i==="number"&&!d.cssNumber[b]&&(g+="px"),!h||!("set"in h)||(g=h.set(a,g))!==f)try{l[c]=g}catch(n){}}else return h&&"get"in h&&(e=h.get(a,false,i))!==f?
e:l[c]}},css:function(a,c,g){var i,e,c=d.camelCase(c);e=d.cssHooks[c];c=d.cssProps[c]||c;c==="cssFloat"&&(c="float");if(e&&"get"in e&&(i=e.get(a,true,g))!==f)return i;else if(T)return T(a,c)},swap:function(a,c,d){var i={},e;for(e in c)i[e]=a.style[e],a.style[e]=c[e];d.call(a);for(e in c)a.style[e]=i[e]}});d.curCSS=d.css;d.each(["height","width"],function(a,c){d.cssHooks[c]={get:function(a,i,e){var b;if(i){if(a.offsetWidth!==0)return n(a,c,e);else d.swap(a,vb,function(){b=n(a,c,e)});return b}},set:function(a,
c){if(Ha.test(c)){if(c=parseFloat(c),c>=0)return c+"px"}else return c}}});if(!d.support.opacity)d.cssHooks.opacity={get:function(a,c){return rb.test((c&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":c?"1":""},set:function(a,c){var g=a.style,e=a.currentStyle,b=d.isNaN(c)?"":"alpha(opacity="+c*100+")",f=e&&e.filter||g.filter||"";g.zoom=1;if(c>=1&&d.trim(f.replace(qa,""))===""&&(g.removeAttribute("filter"),e&&!e.filter))return;g.filter=qa.test(f)?f.replace(qa,
b):f+" "+b}};d(function(){if(!d.support.reliableMarginRight)d.cssHooks.marginRight={get:function(a,c){var g;d.swap(a,{display:"inline-block"},function(){g=c?T(a,"margin-right","marginRight"):a.style.marginRight});return g}}});s.defaultView&&s.defaultView.getComputedStyle&&(Ia=function(a,c){var g,e,c=c.replace(sb,"-$1").toLowerCase();if(!(e=a.ownerDocument.defaultView))return f;if(e=e.getComputedStyle(a,null))g=e.getPropertyValue(c),g===""&&!d.contains(a.ownerDocument.documentElement,a)&&(g=d.style(a,
c));return g});s.documentElement.currentStyle&&(Ja=function(a,c){var d,e=a.currentStyle&&a.currentStyle[c],b=a.runtimeStyle&&a.runtimeStyle[c],f=a.style;if(!Ha.test(e)&&tb.test(e)){d=f.left;if(b)a.runtimeStyle.left=a.currentStyle.left;f.left=c==="fontSize"?"1em":e||0;e=f.pixelLeft+"px";f.left=d;if(b)a.runtimeStyle.left=b}return e===""?"auto":e});T=Ia||Ja;if(d.expr&&d.expr.filters)d.expr.filters.hidden=function(a){var c=a.offsetHeight;return a.offsetWidth===0&&c===0||!d.support.reliableHiddenOffsets&&
(a.style.display||d.css(a,"display"))==="none"},d.expr.filters.visible=function(a){return!d.expr.filters.hidden(a)};var wb=/%20/g,Za=/\[\]$/,Ka=/\r?\n/g,xb=/#.*$/,yb=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,zb=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Ab=/^(?:GET|HEAD)$/,Bb=/^\/\//,La=/\?/,Cb=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Db=/^(?:select|textarea)/i,sa=/\s+/,Eb=/([?&])_=[^&]*/,Ma=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,
Na=d.fn.load,ia={},Oa={},M,N,Pa=["*/"]+["*"];try{M=R.href}catch(Kb){M=s.createElement("a"),M.href="",M=M.href}N=Ma.exec(M.toLowerCase())||[];d.fn.extend({load:function(a,c,g){if(typeof a!=="string"&&Na)return Na.apply(this,arguments);else if(!this.length)return this;var e=a.indexOf(" ");if(e>=0)var b=a.slice(e,a.length),a=a.slice(0,e);e="GET";c&&(d.isFunction(c)?(g=c,c=f):typeof c==="object"&&(c=d.param(c,d.ajaxSettings.traditional),e="POST"));var l=this;d.ajax({url:a,type:e,dataType:"html",data:c,
complete:function(a,c,e){e=a.responseText;a.isResolved()&&(a.done(function(a){e=a}),l.html(b?d("<div>").append(e.replace(Cb,"")).find(b):e));g&&l.each(g,[e,c,a])}});return this},serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?d.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Db.test(this.nodeName)||zb.test(this.type))}).map(function(a,c){var g=d(this).val();return g==
null?null:d.isArray(g)?d.map(g,function(a){return{name:c.name,value:a.replace(Ka,"\r\n")}}):{name:c.name,value:g.replace(Ka,"\r\n")}}).get()}});d.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,c){d.fn[c]=function(a){return this.bind(c,a)}});d.each(["get","post"],function(a,c){d[c]=function(a,e,b,l){d.isFunction(e)&&(l=l||b,b=e,e=f);return d.ajax({type:c,url:a,data:e,success:b,dataType:l})}});d.extend({getScript:function(a,c){return d.get(a,f,c,"script")},
getJSON:function(a,c,g){return d.get(a,c,g,"json")},ajaxSetup:function(a,c){c?w(a,d.ajaxSettings):(c=a,a=d.ajaxSettings);w(a,c);return a},ajaxSettings:{url:M,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(N[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Pa},contents:{xml:/xml/,html:/html/,json:/json/},
responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":h.String,"text html":true,"text json":d.parseJSON,"text xml":d.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:y(ia),ajaxTransport:y(Oa),ajax:function(a,c){function g(a,c,g,u){if(C!==2){C=2;r&&clearTimeout(r);s=f;o=u||"";w.readyState=a>0?4:0;var q,y,p,u=c;if(g){var z=e,H=w,O=z.contents,F=z.dataTypes,G=z.responseFields,v,x,J,U;for(x in G)x in g&&(H[G[x]]=g[x]);for(;F[0]==="*";)F.shift(),v===f&&(v=z.mimeType||H.getResponseHeader("content-type"));
if(v)for(x in O)if(O[x]&&O[x].test(v)){F.unshift(x);break}if(F[0]in g)J=F[0];else{for(x in g){if(!F[0]||z.converters[x+" "+F[0]]){J=x;break}U||(U=x)}J=J||U}J?(J!==F[0]&&F.unshift(J),g=g[J]):g=void 0}else g=f;if(a>=200&&a<300||a===304){if(e.ifModified){if(v=w.getResponseHeader("Last-Modified"))d.lastModified[j]=v;if(v=w.getResponseHeader("Etag"))d.etag[j]=v}if(a===304)u="notmodified",q=true;else try{v=e;v.dataFilter&&(g=v.dataFilter(g,v.dataType));var I=v.dataTypes;x={};var R,B,A=I.length,ba,E=I[0],
S,L,P,K,M;for(R=1;R<A;R++){if(R===1)for(B in v.converters)typeof B==="string"&&(x[B.toLowerCase()]=v.converters[B]);S=E;E=I[R];if(E==="*")E=S;else if(S!=="*"&&S!==E){L=S+" "+E;P=x[L]||x["* "+E];if(!P)for(K in M=f,x)if(ba=K.split(" "),ba[0]===S||ba[0]==="*")if(M=x[ba[1]+" "+E]){K=x[K];K===true?P=M:M===true&&(P=K);break}!P&&!M&&d.error("No conversion from "+L.replace(" "," to "));P!==true&&(g=P?P(g):M(K(g)))}}y=g;u="success";q=true}catch(N){u="parsererror",p=N}}else if(p=u,!u||a)u="error",a<0&&(a=0);
w.status=a;w.statusText=""+(c||u);q?h.resolveWith(b,[y,u,w]):h.rejectWith(b,[w,u,p]);w.statusCode(k);k=f;D&&l.trigger("ajax"+(q?"Success":"Error"),[w,e,q?y:p]);n.resolveWith(b,[w,u]);D&&(l.trigger("ajaxComplete",[w,e]),--d.active||d.event.trigger("ajaxStop"))}}typeof a==="object"&&(c=a,a=f);var c=c||{},e=d.ajaxSetup({},c),b=e.context||e,l=b!==e&&(b.nodeType||b instanceof d)?d(b):d.event,h=d.Deferred(),n=d._Deferred(),k=e.statusCode||{},j,u={},q={},o,y,s,r,p,C=0,D,z,w={readyState:0,setRequestHeader:function(a,
c){if(!C){var d=a.toLowerCase(),a=q[d]=q[d]||a;u[a]=c}return this},getAllResponseHeaders:function(){return C===2?o:null},getResponseHeader:function(a){var c;if(C===2){if(!y)for(y={};c=yb.exec(o);)y[c[1].toLowerCase()]=c[2];c=y[a.toLowerCase()]}return c===f?null:c},overrideMimeType:function(a){if(!C)e.mimeType=a;return this},abort:function(a){a=a||"abort";s&&s.abort(a);g(0,a);return this}};h.promise(w);w.success=w.done;w.error=w.fail;w.complete=n.done;w.statusCode=function(a){if(a){var c;if(C<2)for(c in a)k[c]=
[k[c],a[c]];else c=a[w.status],w.then(c,c)}return this};e.url=((a||e.url)+"").replace(xb,"").replace(Bb,N[1]+"//");e.dataTypes=d.trim(e.dataType||"*").toLowerCase().split(sa);if(e.crossDomain==null)p=Ma.exec(e.url.toLowerCase()),e.crossDomain=!(!p||!(p[1]!=N[1]||p[2]!=N[2]||(p[3]||(p[1]==="http:"?80:443))!=(N[3]||(N[1]==="http:"?80:443))));if(e.data&&e.processData&&typeof e.data!=="string")e.data=d.param(e.data,e.traditional);H(ia,e,c,w);if(C===2)return false;D=e.global;e.type=e.type.toUpperCase();
e.hasContent=!Ab.test(e.type);D&&d.active++===0&&d.event.trigger("ajaxStart");if(!e.hasContent&&(e.data&&(e.url+=(La.test(e.url)?"&":"?")+e.data,delete e.data),j=e.url,e.cache===false)){p=d.now();var O=e.url.replace(Eb,"$1_="+p);e.url=O+(O===e.url?(La.test(e.url)?"&":"?")+"_="+p:"")}(e.data&&e.hasContent&&e.contentType!==false||c.contentType)&&w.setRequestHeader("Content-Type",e.contentType);e.ifModified&&(j=j||e.url,d.lastModified[j]&&w.setRequestHeader("If-Modified-Since",d.lastModified[j]),d.etag[j]&&
w.setRequestHeader("If-None-Match",d.etag[j]));w.setRequestHeader("Accept",e.dataTypes[0]&&e.accepts[e.dataTypes[0]]?e.accepts[e.dataTypes[0]]+(e.dataTypes[0]!=="*"?", "+Pa+"; q=0.01":""):e.accepts["*"]);for(z in e.headers)w.setRequestHeader(z,e.headers[z]);if(e.beforeSend&&(e.beforeSend.call(b,w,e)===false||C===2))return w.abort(),false;for(z in{success:1,error:1,complete:1})w[z](e[z]);if(s=H(Oa,e,c,w)){w.readyState=1;D&&l.trigger("ajaxSend",[w,e]);e.async&&e.timeout>0&&(r=setTimeout(function(){w.abort("timeout")},
e.timeout));try{C=1,s.send(u,g)}catch(F){C<2?g(-1,F):d.error(F)}}else g(-1,"No Transport");return w},param:function(a,c){var g=[],e=function(a,c){c=d.isFunction(c)?c():c;g[g.length]=encodeURIComponent(a)+"="+encodeURIComponent(c)};if(c===f)c=d.ajaxSettings.traditional;if(d.isArray(a)||a.jquery&&!d.isPlainObject(a))d.each(a,function(){e(this.name,this.value)});else for(var b in a)F(b,a[b],c,e);return g.join("&").replace(wb,"+")}});d.extend({active:0,lastModified:{},etag:{}});var Fb=d.now(),fa=/(\=)\?(&|$)|\?\?/i;
d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return d.expando+"_"+Fb++}});d.ajaxPrefilter("json jsonp",function(a,c,g){c=a.contentType==="application/x-www-form-urlencoded"&&typeof a.data==="string";if(a.dataTypes[0]==="jsonp"||a.jsonp!==false&&(fa.test(a.url)||c&&fa.test(a.data))){var e,b=a.jsonpCallback=d.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,f=h[b],l=a.url,n=a.data,k="$1"+b+"$2";a.jsonp!==false&&(l=l.replace(fa,k),a.url===l&&(c&&(n=n.replace(fa,k)),a.data===n&&
(l+=(/\?/.test(l)?"&":"?")+a.jsonp+"="+b)));a.url=l;a.data=n;h[b]=function(a){e=[a]};g.always(function(){h[b]=f;if(e&&d.isFunction(f))h[b](e[0])});a.converters["script json"]=function(){e||d.error(b+" was not called");return e[0]};a.dataTypes[0]="json";return"script"}});d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){d.globalEval(a);return a}}});
d.ajaxPrefilter("script",function(a){if(a.cache===f)a.cache=false;if(a.crossDomain)a.type="GET",a.global=false});d.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=s.head||s.getElementsByTagName("head")[0]||s.documentElement;return{send:function(e,b){c=s.createElement("script");c.async="async";if(a.scriptCharset)c.charset=a.scriptCharset;c.src=a.url;c.onload=c.onreadystatechange=function(a,e){if(e||!c.readyState||/loaded|complete/.test(c.readyState))c.onload=c.onreadystatechange=null,
d&&c.parentNode&&d.removeChild(c),c=f,e||b(200,"success")};d.insertBefore(c,d.firstChild)},abort:function(){if(c)c.onload(0,1)}}}});var ra=h.ActiveXObject?function(){for(var a in X)X[a](0,1)}:false,Gb=0,X;d.ajaxSettings.xhr=h.ActiveXObject?function(){var a;if(!(a=!this.isLocal&&J()))a:{try{a=new h.ActiveXObject("Microsoft.XMLHTTP");break a}catch(c){}a=void 0}return a}:J;(function(a){d.extend(d.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})})(d.ajaxSettings.xhr());d.support.ajax&&d.ajaxTransport(function(a){if(!a.crossDomain||
d.support.cors){var c;return{send:function(e,b){var l=a.xhr(),n,k;a.username?l.open(a.type,a.url,a.async,a.username,a.password):l.open(a.type,a.url,a.async);if(a.xhrFields)for(k in a.xhrFields)l[k]=a.xhrFields[k];a.mimeType&&l.overrideMimeType&&l.overrideMimeType(a.mimeType);!a.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(k in e)l.setRequestHeader(k,e[k])}catch(j){}l.send(a.hasContent&&a.data||null);c=function(e,g){var h,k,j,u,q;try{if(c&&(g||l.readyState===
4)){c=f;if(n)l.onreadystatechange=d.noop,ra&&delete X[n];if(g)l.readyState!==4&&l.abort();else{h=l.status;j=l.getAllResponseHeaders();u={};if((q=l.responseXML)&&q.documentElement)u.xml=q;u.text=l.responseText;try{k=l.statusText}catch(o){k=""}!h&&a.isLocal&&!a.crossDomain?h=u.text?200:404:h===1223&&(h=204)}}}catch(y){g||b(-1,y)}u&&b(h,k,u,j)};!a.async||l.readyState===4?c():(n=++Gb,ra&&(X||(X={},d(h).unload(ra)),X[n]=c),l.onreadystatechange=c)},abort:function(){c&&c(0,1)}}}});var ja={},L,V,Hb=/^(?:toggle|show|hide)$/,
Ib=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,ga,ta=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],ca;d.fn.extend({show:function(a,c,e){if(a||a===0)return this.animate(D("show",3),a,c,e);else{for(var e=0,b=this.length;e<b;e++)if(a=this[e],a.style){c=a.style.display;if(!d._data(a,"olddisplay")&&c==="none")c=a.style.display="";c===""&&d.css(a,"display")==="none"&&d._data(a,"olddisplay",U(a.nodeName))}for(e=0;e<
b;e++)if(a=this[e],a.style&&(c=a.style.display,c===""||c==="none"))a.style.display=d._data(a,"olddisplay")||"";return this}},hide:function(a,c,e){if(a||a===0)return this.animate(D("hide",3),a,c,e);else{a=0;for(c=this.length;a<c;a++)this[a].style&&(e=d.css(this[a],"display"),e!=="none"&&!d._data(this[a],"olddisplay")&&d._data(this[a],"olddisplay",e));for(a=0;a<c;a++)if(this[a].style)this[a].style.display="none";return this}},_toggle:d.fn.toggle,toggle:function(a,c,e){var b=typeof a==="boolean";d.isFunction(a)&&
d.isFunction(c)?this._toggle.apply(this,arguments):a==null||b?this.each(function(){var c=b?a:d(this).is(":hidden");d(this)[c?"show":"hide"]()}):this.animate(D("toggle",3),a,c,e);return this},fadeTo:function(a,c,d,e){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:c},a,d,e)},animate:function(a,c,e,b){var f=d.speed(c,e,b);if(d.isEmptyObject(a))return this.each(f.complete,[false]);a=d.extend({},a);return this[f.queue===false?"each":"queue"](function(){var m;f.queue===false&&
d._mark(this);var c=d.extend({},f),e=this.nodeType===1,g=e&&d(this).is(":hidden"),b,i,l,h,n;c.animatedProperties={};for(l in a){b=d.camelCase(l);l!==b&&(a[b]=a[l],delete a[l]);i=a[b];d.isArray(i)?(c.animatedProperties[b]=i[1],m=a[b]=i[0],i=m):c.animatedProperties[b]=c.specialEasing&&c.specialEasing[b]||c.easing||"swing";if(i==="hide"&&g||i==="show"&&!g)return c.complete.call(this);if(e&&(b==="height"||b==="width"))if(c.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],d.css(this,
"display")==="inline"&&d.css(this,"float")==="none")d.support.inlineBlockNeedsLayout?(i=U(this.nodeName),i==="inline"?this.style.display="inline-block":(this.style.display="inline",this.style.zoom=1)):this.style.display="inline-block"}if(c.overflow!=null)this.style.overflow="hidden";for(l in a)if(e=new d.fx(this,c,l),i=a[l],Hb.test(i))e[i==="toggle"?g?"show":"hide":i]();else b=Ib.exec(i),h=e.cur(),b?(i=parseFloat(b[2]),n=b[3]||(d.cssNumber[l]?"":"px"),n!=="px"&&(d.style(this,l,(i||1)+n),h*=(i||1)/
e.cur(),d.style(this,l,h+n)),b[1]&&(i=(b[1]==="-="?-1:1)*i+h),e.custom(h,i,n)):e.custom(h,i,"");return true})},stop:function(a,c){a&&this.queue([]);this.each(function(){var a=d.timers,e=a.length;for(c||d._unmark(true,this);e--;)if(a[e].elem===this){if(c)a[e](true);a.splice(e,1)}});c||this.dequeue();return this}});d.each({slideDown:D("show",1),slideUp:D("hide",1),slideToggle:D("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,c){d.fn[a]=function(a,
d,e){return this.animate(c,a,d,e)}});d.extend({speed:function(a,c,e){var b=a&&typeof a==="object"?d.extend({},a):{complete:e||!e&&c||d.isFunction(a)&&a,duration:a,easing:e&&c||c&&!d.isFunction(c)&&c};b.duration=d.fx.off?0:typeof b.duration==="number"?b.duration:b.duration in d.fx.speeds?d.fx.speeds[b.duration]:d.fx.speeds._default;b.old=b.complete;b.complete=function(a){d.isFunction(b.old)&&b.old.call(this);b.queue!==false?d.dequeue(this):a!==false&&d._unmark(this)};return b},easing:{linear:function(a,
c,d,e){return d+e*a},swing:function(a,c,d,e){return(-Math.cos(a*Math.PI)/2+0.5)*e+d}},timers:[],fx:function(a,c,d){this.options=c;this.elem=a;this.prop=d;c.orig=c.orig||{}}});d.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(d.fx.step[this.prop]||d.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a,c=d.css(this.elem,this.prop);return isNaN(a=
parseFloat(c))?!c||c==="auto"?0:c:a},custom:function(a,c,e){function b(a){return f.step(a)}var f=this,l=d.fx;this.startTime=ca||u();this.start=a;this.end=c;this.unit=e||this.unit||(d.cssNumber[this.prop]?"":"px");this.now=this.start;this.pos=this.state=0;b.elem=this.elem;b()&&d.timers.push(b)&&!ga&&(ga=setInterval(l.tick,l.interval))},show:function(){this.options.orig[this.prop]=d.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());
d(this.elem).show()},hide:function(){this.options.orig[this.prop]=d.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(a){var c=ca||u(),e=true,b=this.elem,f=this.options,l;if(a||c>=f.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();f.animatedProperties[this.prop]=true;for(l in f.animatedProperties)f.animatedProperties[l]!==true&&(e=false);if(e){f.overflow!=null&&!d.support.shrinkWrapBlocks&&d.each(["","X","Y"],function(a,c){b.style["overflow"+
c]=f.overflow[a]});f.hide&&d(b).hide();if(f.hide||f.show)for(var h in f.animatedProperties)d.style(b,h,f.orig[h]);f.complete.call(b)}return false}else f.duration==Infinity?this.now=c:(a=c-this.startTime,this.state=a/f.duration,this.pos=d.easing[f.animatedProperties[this.prop]](this.state,a,0,1,f.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update();return true}};d.extend(d.fx,{tick:function(){for(var a=d.timers,c=0;c<a.length;++c)a[c]()||a.splice(c--,1);a.length||d.fx.stop()},
interval:13,stop:function(){clearInterval(ga);ga=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){d.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=(a.prop==="width"||a.prop==="height"?Math.max(0,a.now):a.now)+a.unit:a.elem[a.prop]=a.now}}});if(d.expr&&d.expr.filters)d.expr.filters.animated=function(a){return d.grep(d.timers,function(c){return a===c.elem}).length};var Jb=/^t(?:able|d|h)$/i,Qa=/^(?:body|html)$/i;
d.fn.offset="getBoundingClientRect"in s.documentElement?function(a){var c=this[0],e;if(a)return this.each(function(c){d.offset.setOffset(this,a,c)});if(!c||!c.ownerDocument)return null;if(c===c.ownerDocument.body)return d.offset.bodyOffset(c);try{e=c.getBoundingClientRect()}catch(b){}var f=c.ownerDocument,l=f.documentElement;if(!e||!d.contains(l,c))return e?{top:e.top,left:e.left}:{top:0,left:0};c=f.body;f=q(f);return{top:e.top+(f.pageYOffset||d.support.boxModel&&l.scrollTop||c.scrollTop)-(l.clientTop||
c.clientTop||0),left:e.left+(f.pageXOffset||d.support.boxModel&&l.scrollLeft||c.scrollLeft)-(l.clientLeft||c.clientLeft||0)}}:function(a){var c=this[0];if(a)return this.each(function(c){d.offset.setOffset(this,a,c)});if(!c||!c.ownerDocument)return null;if(c===c.ownerDocument.body)return d.offset.bodyOffset(c);d.offset.initialize();var e,b=c.offsetParent,f=c.ownerDocument,l=f.documentElement,h=f.body;e=(f=f.defaultView)?f.getComputedStyle(c,null):c.currentStyle;for(var n=c.offsetTop,k=c.offsetLeft;(c=
c.parentNode)&&c!==h&&c!==l;){if(d.offset.supportsFixedPosition&&e.position==="fixed")break;e=f?f.getComputedStyle(c,null):c.currentStyle;n-=c.scrollTop;k-=c.scrollLeft;if(c===b){n+=c.offsetTop;k+=c.offsetLeft;if(d.offset.doesNotAddBorder&&(!d.offset.doesAddBorderForTableAndCells||!Jb.test(c.nodeName)))n+=parseFloat(e.borderTopWidth)||0,k+=parseFloat(e.borderLeftWidth)||0;b=c.offsetParent}d.offset.subtractsBorderForOverflowNotVisible&&e.overflow!=="visible"&&(n+=parseFloat(e.borderTopWidth)||0,k+=
parseFloat(e.borderLeftWidth)||0)}if(e.position==="relative"||e.position==="static")n+=h.offsetTop,k+=h.offsetLeft;d.offset.supportsFixedPosition&&e.position==="fixed"&&(n+=Math.max(l.scrollTop,h.scrollTop),k+=Math.max(l.scrollLeft,h.scrollLeft));return{top:n,left:k}};d.offset={initialize:function(){var a=s.body,c=s.createElement("div"),e,b,f,l=parseFloat(d.css(a,"marginTop"))||0;d.extend(c.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});c.innerHTML=
"<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";a.insertBefore(c,a.firstChild);e=c.firstChild;b=e.firstChild;f=e.nextSibling.firstChild.firstChild;this.doesNotAddBorder=b.offsetTop!==5;this.doesAddBorderForTableAndCells=f.offsetTop===5;b.style.position="fixed";
b.style.top="20px";this.supportsFixedPosition=b.offsetTop===20||b.offsetTop===15;b.style.position=b.style.top="";e.style.overflow="hidden";e.style.position="relative";this.subtractsBorderForOverflowNotVisible=b.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=a.offsetTop!==l;a.removeChild(c);d.offset.initialize=d.noop},bodyOffset:function(a){var c=a.offsetTop,e=a.offsetLeft;d.offset.initialize();d.offset.doesNotIncludeMarginInBodyOffset&&(c+=parseFloat(d.css(a,"marginTop"))||0,e+=parseFloat(d.css(a,
"marginLeft"))||0);return{top:c,left:e}},setOffset:function(a,c,e){var b=d.css(a,"position");if(b==="static")a.style.position="relative";var f=d(a),l=f.offset(),h=d.css(a,"top"),n=d.css(a,"left"),k={},j={};(b==="absolute"||b==="fixed")&&d.inArray("auto",[h,n])>-1?(j=f.position(),b=j.top,n=j.left):(b=parseFloat(h)||0,n=parseFloat(n)||0);d.isFunction(c)&&(c=c.call(a,e,l));if(c.top!=null)k.top=c.top-l.top+b;if(c.left!=null)k.left=c.left-l.left+n;"using"in c?c.using.call(a,k):f.css(k)}};d.fn.extend({position:function(){if(!this[0])return null;
var a=this[0],c=this.offsetParent(),e=this.offset(),b=Qa.test(c[0].nodeName)?{top:0,left:0}:c.offset();e.top-=parseFloat(d.css(a,"marginTop"))||0;e.left-=parseFloat(d.css(a,"marginLeft"))||0;b.top+=parseFloat(d.css(c[0],"borderTopWidth"))||0;b.left+=parseFloat(d.css(c[0],"borderLeftWidth"))||0;return{top:e.top-b.top,left:e.left-b.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||s.body;a&&!Qa.test(a.nodeName)&&d.css(a,"position")==="static";)a=a.offsetParent;return a})}});
d.each(["Left","Top"],function(a,c){var e="scroll"+c;d.fn[e]=function(c){var b,l;if(c===f){b=this[0];return!b?null:(l=q(b))?"pageXOffset"in l?l[a?"pageYOffset":"pageXOffset"]:d.support.boxModel&&l.document.documentElement[e]||l.document.body[e]:b[e]}return this.each(function(){(l=q(this))?l.scrollTo(!a?c:d(l).scrollLeft(),a?c:d(l).scrollTop()):this[e]=c})}});d.each(["Height","Width"],function(a,c){var e=c.toLowerCase();d.fn["inner"+c]=function(){var a=this[0];return a&&a.style?parseFloat(d.css(a,
e,"padding")):null};d.fn["outer"+c]=function(a){var c=this[0];return c&&c.style?parseFloat(d.css(c,e,a?"margin":"border")):null};d.fn[e]=function(a){var b=this[0];if(!b)return a==null?null:this;if(d.isFunction(a))return this.each(function(c){var b=d(this);b[e](a.call(this,c,b[e]()))});if(d.isWindow(b)){var l=b.document.documentElement["client"+c],h=b.document.body;return b.document.compatMode==="CSS1Compat"&&l||h&&h["client"+c]||l}else return b.nodeType===9?Math.max(b.documentElement["client"+c],
b.body["scroll"+c],b.documentElement["scroll"+c],b.body["offset"+c],b.documentElement["offset"+c]):a===f?(b=d.css(b,e),l=parseFloat(b),d.isNaN(l)?b:l):this.css(e,typeof a==="string"?a:a+"px")}});h.jQuery=h.$=d})(window);
(function(h){function f(b,f){for(var h=b.length;h--;)if(b[h]===f)return h;return-1}function b(b,f,h){var k,j,e,l;h===void 0&&(h=f,f="all");b=b.replace(/\s/g,"");k=b.split(",");k[k.length-1]==""&&(k[k.length-2]+=",");for(e=0;e<k.length;e++){j=[];b=k[e].split("+");if(b.length>1){j=b.slice(0,b.length-1);for(l=0;l<j.length;l++)j[l]=B[j[l]];b=[b[b.length-1]]}b=b[0];b=A[b]||b.toUpperCase().charCodeAt(0);b in p||(p[b]=[]);p[b].push({shortcut:k[e],scope:f,method:h,key:k[e],mods:j})}}function k(b,f,h){b.addEventListener?
b.addEventListener(f,h,false):b.attachEvent&&b.attachEvent("on"+f,function(){h(window.event)})}var j,p={},o={16:false,18:false,17:false,91:false},v="all",B={"\u21e7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},A={backspace:8,tab:9,clear:12,enter:13,"return":13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,"delete":46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,
"\\":220};for(j=1;j<20;j++)B["f"+j]=111+j;for(j in B)b[j]=false;k(document,"keydown",function(h){var k,j,x,A,e;j=(h.target||h.srcElement).tagName;k=h.keyCode;if(k==93||k==224)k=91;if(k in o)for(x in o[k]=true,B)B[x]==k&&(b[x]=true);else if(!(j=="INPUT"||j=="SELECT"||j=="TEXTAREA")&&k in p)for(A=0;A<p[k].length;A++)if(j=p[k][A],j.scope==v||j.scope=="all"){e=j.mods.length>0;for(x in o)if(!o[x]&&f(j.mods,+x)>-1||o[x]&&f(j.mods,+x)==-1)e=false;if((j.mods.length==0&&!o[16]&&!o[18]&&!o[17]&&!o[91]||e)&&
j.method(h,j)===false)if(h.preventDefault?h.preventDefault():h.returnValue=false,h.stopPropagation&&h.stopPropagation(),h.cancelBubble)h.cancelBubble=true}});k(document,"keyup",function(f){var f=f.keyCode,h;if(f==93||f==224)f=91;if(f in o)for(h in o[f]=false,B)B[h]==f&&(b[h]=false)});h.key=b;h.key.setScope=function(b){v=b||"all"};if(typeof module!=="undefined")module.exports=key})(this);
(function(h,f){var b,k=/:([\w\d]+)/g,j=/\?([^#]*)?$/,p=function(e){return Array.prototype.slice.call(e)},o=function(e){return Object.prototype.toString.call(e)==="[object Function]"},v=function(e){return Object.prototype.toString.call(e)==="[object Array]"},B=function(e){return decodeURIComponent((e||"").replace(/\+/g," "))},A=encodeURIComponent,z=function(e){return String(e).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},G=function(e){return function(b,
f){return this.route.apply(this,[e,b,f])}},r={},x=!(!f.history||!history.pushState),I=[];b=function(){var e=p(arguments),f,k;b.apps=b.apps||{};if(e.length===0||e[0]&&o(e[0]))return b.apply(b,["body"].concat(e));else if(typeof(k=e.shift())=="string")return f=b.apps[k]||new b.Application,f.element_selector=k,e.length>0&&h.each(e,function(e,b){f.use(b)}),f.element_selector!=k&&delete b.apps[k],b.apps[f.element_selector]=f};b.VERSION="0.7.0";b.addLogger=function(e){I.push(e)};b.log=function(){var e=p(arguments);
e.unshift("["+Date()+"]");h.each(I,function(f,h){h.apply(b,e)})};typeof f.console!="undefined"?o(f.console.log.apply)?b.addLogger(function(){f.console.log.apply(f.console,arguments)}):b.addLogger(function(){f.console.log(arguments)}):typeof console!="undefined"&&b.addLogger(function(){console.log.apply(console,arguments)});h.extend(b,{makeArray:p,isFunction:o,isArray:v,extend:h.extend});b.Object=function(e){return h.extend(this,e||{})};h.extend(b.Object.prototype,{escapeHTML:z,h:z,toHash:function(){var e=
{};h.each(this,function(b,f){o(f)||(e[b]=f)});return e},toHTML:function(){var e="";h.each(this,function(b,f){o(f)||(e+="<strong>"+b+"</strong> "+f+"<br />")});return e},keys:function(e){var b=[],f;for(f in this)(!o(this[f])||!e)&&b.push(f);return b},has:function(e){return this[e]&&h.trim(this[e].toString())!==""},join:function(){var e=p(arguments),b=e.shift();return e.join(b)},log:function(){b.log.apply(b,arguments)},toString:function(e){var b=[];h.each(this,function(f,h){(!o(h)||e)&&b.push('"'+f+
'": '+h.toString())});return"Sammy.Object: {"+b.join(",")+"}"}});b.DefaultLocationProxy=function(e,b){this.app=e;this.is_native=false;this.has_history=x;this._startPolling(b)};b.DefaultLocationProxy.fullPath=function(e){var b=e.toString().match(/^[^#]*(#.+)$/);return[e.pathname,e.search,b?b[1]:""].join("")};b.DefaultLocationProxy.prototype={bind:function(){var e=this,l=this.app,k=b.DefaultLocationProxy;h(f).bind("hashchange."+this.app.eventNamespace(),function(b,h){if(e.is_native===false&&!h)e.is_native=
true,f.clearInterval(k._interval);l.trigger("location-changed")});x&&!l.disable_push_state&&(h(f).bind("popstate."+this.app.eventNamespace(),function(){l.trigger("location-changed")}),h("a").live("click.history-"+this.app.eventNamespace(),function(b){var h=k.fullPath(this);if(this.hostname==f.location.hostname&&l.lookupRoute("get",h))return b.preventDefault(),e.setLocation(h),false}));if(!k._bindings)k._bindings=0;k._bindings++},unbind:function(){h(f).unbind("hashchange."+this.app.eventNamespace());
h(f).unbind("popstate."+this.app.eventNamespace());h("a").die("click.history-"+this.app.eventNamespace());b.DefaultLocationProxy._bindings--;b.DefaultLocationProxy._bindings<=0&&f.clearInterval(b.DefaultLocationProxy._interval)},getLocation:function(){return b.DefaultLocationProxy.fullPath(f.location)},setLocation:function(e){/^([^#\/]|$)/.test(e)&&(e=x?"/"+e:"#!/"+e);if(e!=this.getLocation())if(x&&/^\//.test(e))history.pushState({path:e},f.title,e),this.app.trigger("location-changed");else return f.location=
e},_startPolling:function(e){var l=this;if(!b.DefaultLocationProxy._interval){e||(e=10);var k=function(){var e=l.getLocation();(typeof b.DefaultLocationProxy._last_location=="undefined"||e!=b.DefaultLocationProxy._last_location)&&f.setTimeout(function(){h(f).trigger("hashchange",[true])},0);b.DefaultLocationProxy._last_location=e};k();b.DefaultLocationProxy._interval=f.setInterval(k,e)}}};b.Application=function(e){var f=this;this.routes={};this.listeners=new b.Object({});this.arounds=[];this.befores=
[];this.namespace=(new Date).getTime()+"-"+parseInt(Math.random()*1E3,10);this.context_prototype=function(){b.EventContext.apply(this,arguments)};this.context_prototype.prototype=new b.EventContext;o(e)&&e.apply(this,[this]);this._location_proxy||this.setLocationProxy(new b.DefaultLocationProxy(this,this.run_interval_every));this.debug&&this.bindToAllEvents(function(e,b){f.log(f.toString(),e.cleaned_type,b||{})})};b.Application.prototype=h.extend({},b.Object.prototype,{ROUTE_VERBS:["get","post","put",
"delete"],APP_EVENTS:"run,unload,lookup-route,run-route,route-found,event-context-before,event-context-after,changed,error,check-form-submission,redirect,location-changed".split(","),_last_route:null,_location_proxy:null,_running:false,element_selector:"body",debug:false,raise_errors:false,run_interval_every:50,disable_push_state:false,template_engine:null,toString:function(){return"Sammy.Application:"+this.element_selector},$element:function(e){return e?h(this.element_selector).find(e):h(this.element_selector)},
use:function(){var e=p(arguments),f=e.shift(),h=f||"";try{e.unshift(this),typeof f=="string"&&(h="Sammy."+f,f=b[f]),f.apply(this,e)}catch(k){typeof f==="undefined"?this.error("Plugin Error: called use() but plugin ("+h.toString()+") is not defined",k):o(f)?this.error("Plugin Error",k):this.error("Plugin Error: called use() but '"+h.toString()+"' is not a function",k)}return this},setLocationProxy:function(e){var b=this._location_proxy;this._location_proxy=e;this.isRunning()&&(b&&b.unbind(),this._location_proxy.bind())},
log:function(){b.log.apply(b,Array.prototype.concat.apply([this.element_selector],arguments))},route:function(e,b,f){var j=this,p=[],w,r;!f&&o(b)&&(f=b=e,e="any");e=e.toLowerCase();if(b.constructor==String){for(k.lastIndex=0;(r=k.exec(b))!==null;)p.push(r[1]);b=RegExp(b.replace(k,"([^/]+)")+"$")}typeof f=="string"&&(f=j[f]);w=function(e){var h={verb:e,path:b,callback:f,param_names:p};j.routes[e]=j.routes[e]||[];j.routes[e].push(h)};e==="any"?h.each(this.ROUTE_VERBS,function(e,b){w(b)}):w(e);return this},
get:G("get"),post:G("post"),put:G("put"),del:G("delete"),any:G("any"),mapRoutes:function(e){var b=this;h.each(e,function(e,f){b.route.apply(b,f)});return this},eventNamespace:function(){return["sammy-app",this.namespace].join("-")},bind:function(e,b,f){var h=this;typeof f=="undefined"&&(f=b);b=function(e,b){var l;b&&b.context?(l=b.context,delete b.context):l=new h.context_prototype(h,"bind",e.type,b,e.target);e.cleaned_type=e.type.replace(h.eventNamespace(),"");f.apply(l,[e,b])};this.listeners[e]||
(this.listeners[e]=[]);this.listeners[e].push(b);this.isRunning()&&this._listen(e,b);return this},trigger:function(e,b){this.$element().trigger([e,this.eventNamespace()].join("."),[b]);return this},refresh:function(){this.last_location=null;this.trigger("location-changed");return this},before:function(e,b){o(e)&&(b=e,e={});this.befores.push([e,b]);return this},after:function(e){return this.bind("event-context-after",e)},around:function(e){this.arounds.push(e);return this},isRunning:function(){return this._running},
helpers:function(e){h.extend(this.context_prototype.prototype,e);return this},helper:function(e,b){this.context_prototype.prototype[e]=b;return this},run:function(e){if(this.isRunning())return false;var b=this;h.each(this.listeners.toHash(),function(e,f){h.each(f,function(f,h){b._listen(e,h)})});this.trigger("run",{start_url:e});this._running=true;this.last_location=null;!/\#(.+)/.test(this.getLocation())&&typeof e!="undefined"&&this.setLocation(e);this._checkLocation();this._location_proxy.bind();
this.bind("location-changed",function(){b._checkLocation()});this.bind("submit",function(e){return b._checkFormSubmission(h(e.target).closest("form"))===false?e.preventDefault():false});h(f).bind("beforeunload",function(){b.unload()});return this.trigger("changed")},unload:function(){if(!this.isRunning())return false;var e=this;this.trigger("unload");this._location_proxy.unbind();this.$element().unbind("submit").removeClass(e.eventNamespace());h.each(this.listeners.toHash(),function(b,f){h.each(f,
function(f,h){e._unlisten(b,h)})});this._running=false;return this},bindToAllEvents:function(e){var b=this;h.each(this.APP_EVENTS,function(f,h){b.bind(h,e)});h.each(this.listeners.keys(true),function(f,k){h.inArray(k,b.APP_EVENTS)==-1&&b.bind(k,e)});return this},routablePath:function(e){return e.replace(j,"")},lookupRoute:function(e,b){var f=false,h=0,k,j;if(typeof this.routes[e]!="undefined")for(k=this.routes[e].length;h<k;h++)if(j=this.routes[e][h],this.routablePath(b).match(j.path)){f=j;break}return f},
runRoute:function(e,b,f,k){var j=this,o=this.lookupRoute(e,b),p,r,u,C,D,v,q;this.log("runRoute",[e,b].join(" "));this.trigger("run-route",{verb:e,path:b,params:f});typeof f=="undefined"&&(f={});h.extend(f,this._parseQueryString(b));if(o){this.trigger("route-found",{route:o});if((v=o.path.exec(this.routablePath(b)))!==null)v.shift(),h.each(v,function(e,b){if(o.param_names[e])f[o.param_names[e]]=B(b);else{if(!f.splat)f.splat=[];f.splat.push(B(b))}});p=new this.context_prototype(this,e,b,f,k);k=this.arounds.slice(0);
u=this.befores.slice(0);D=[p].concat(f.splat);r=function(){for(var e;u.length>0;)if(C=u.shift(),j.contextMatchesOptions(p,C[0])&&(e=C[1].apply(p,[p]),e===false))return false;j.last_route=o;p.trigger("event-context-before",{context:p});e=o.callback.apply(p,D);p.trigger("event-context-after",{context:p});return e};h.each(k.reverse(),function(e,b){var d=r;r=function(){return b.apply(p,[d])}});try{q=r()}catch(s){this.error(["500 Error",e,b].join(" "),s)}return q}else return this.notFound(e,b)},contextMatchesOptions:function(e,
b,f){if(typeof b==="undefined"||b=={})return true;typeof f==="undefined"&&(f=true);if(typeof b==="string"||o(b.test))b={path:b};if(b.only)return this.contextMatchesOptions(e,b.only,true);else if(b.except)return this.contextMatchesOptions(e,b.except,false);var h=true,k=true;if(b.path){if(!o(b.path.test))b.path=RegExp(b.path.toString()+"$");h=b.path.test(e.path)}b.verb&&(k=typeof b.verb==="string"?b.verb===e.verb:b.verb.indexOf(e.verb)>-1);return f?k&&h:!(k&&h)},getLocation:function(){return this._location_proxy.getLocation()},
setLocation:function(e){return this._location_proxy.setLocation(e)},swap:function(e){return this.$element().html(e)},templateCache:function(e,b){return typeof b!="undefined"?r[e]=b:r[e]},clearTemplateCache:function(){return r={}},notFound:function(e,b){var f=this.error(["404 Not Found",e,b].join(" "));return e==="get"?f:true},error:function(e,b){b||(b=Error());b.message=[e,b.message].join(" ");this.trigger("error",{message:b.message,error:b});if(this.raise_errors)throw b;else this.log(b.message,b)},
_checkLocation:function(){var e,b;e=this.getLocation();if(!this.last_location||this.last_location[0]!="get"||this.last_location[1]!=e)this.last_location=["get",e],b=this.runRoute("get",e);return b},_getFormVerb:function(e){var e=h(e),b,f;f=e.find('input[name="_method"]');f.length>0&&(b=f.val());b||(b=e[0].getAttribute("method"));if(!b||b=="")b="get";return h.trim(b.toString().toLowerCase())},_checkFormSubmission:function(e){var b,f,k;this.trigger("check-form-submission",{form:e});b=h(e);f=b.attr("action")||
"";k=this._getFormVerb(b);this.log("_checkFormSubmission",b,f,k);k==="get"?(b=this._serializeFormParams(b),b!==""&&(f+="?"+b),this.setLocation(f),e=false):(b=h.extend({},this._parseFormParams(b)),e=this.runRoute(k,f,b,e.get(0)));return typeof e=="undefined"?false:e},_serializeFormParams:function(e){var b="",e=e.serializeArray(),f;if(e.length>0){b=this._encodeFormPair(e[0].name,e[0].value);for(f=1;f<e.length;f++)b=b+"&"+this._encodeFormPair(e[f].name,e[f].value)}return b},_encodeFormPair:function(e,
b){return A(e)+"="+A(b)},_parseFormParams:function(e){var b={},e=e.serializeArray(),f;for(f=0;f<e.length;f++)b=this._parseParamPair(b,e[f].name,e[f].value);return b},_parseQueryString:function(e){var b={},f,h;if(e=e.match(j)){e=e[1].split("&");for(h=0;h<e.length;h++)f=e[h].split("="),b=this._parseParamPair(b,B(f[0]),B(f[1]||""))}return b},_parseParamPair:function(e,b,f){e[b]?v(e[b])?e[b].push(f):e[b]=[e[b],f]:e[b]=f;return e},_listen:function(b,f){return this.$element().bind([b,this.eventNamespace()].join("."),
f)},_unlisten:function(b,f){return this.$element().unbind([b,this.eventNamespace()].join("."),f)}});b.RenderContext=function(b){this.event_context=b;this.callbacks=[];this.content=this.previous_content=null;this.waiting=this.next_engine=false};b.RenderContext.prototype=h.extend({},b.Object.prototype,{then:function(b){if(!o(b))if(typeof b==="string"&&b in this.event_context)var h=this.event_context[b],b=function(b){return h.apply(this.event_context,[b])};else return this;var k=this;this.waiting?this.callbacks.push(b):
(this.wait(),f.setTimeout(function(){var f=b.apply(k,[k.content,k.previous_content]);f!==false&&k.next(f)},0));return this},wait:function(){this.waiting=true},next:function(b){this.waiting=false;if(typeof b!=="undefined")this.previous_content=this.content,this.content=b;this.callbacks.length>0&&this.then(this.callbacks.shift())},load:function(b,f,k){var j=this;return this.then(function(){var p,r,v;o(f)?(k=f,f={}):f=h.extend({},f);k&&this.then(k);if(typeof b==="string"){p=(v=b.match(/\.json$/)||f.json)&&
f.cache===true||f.cache!==false;j.next_engine=j.event_context.engineFor(b);delete f.cache;delete f.json;if(f.engine)j.next_engine=f.engine,delete f.engine;if(p&&(r=this.event_context.app.templateCache(b)))return r;this.wait();h.ajax(h.extend({url:b,data:{},dataType:v?"json":null,type:"get",success:function(f){p&&j.event_context.app.templateCache(b,f);j.next(f)}},f));return false}else{if(b.nodeType)return b.innerHTML;if(b.selector)return j.next_engine=b.attr("data-engine"),f.clone===false?b.remove()[0].innerHTML.toString():
b[0].innerHTML.toString()}})},loadPartials:function(b){if(b)for(name in this.partials=this.partials||{},b)this.load(b[name]).then(function(b){this.partials[name]=b});return this},render:function(b,f,h,k){return o(b)&&!f?this.then(b):this.loadPartials(k).load(b).interpolate(f,b).then(h)},partial:function(b,f){return this.render(b,f).swap()},send:function(){var b=this,f=p(arguments),h=f.shift();v(f[0])&&(f=f[0]);return this.then(function(){f.push(function(f){b.next(f)});b.wait();h.apply(h,f);return false})},
collect:function(b,f,k){var j=this,p=function(){if(o(b))f=b,b=this.content;var k=[],n=false;h.each(b,function(b,e){var h=f.apply(j,[b,e]);h.jquery&&h.length==1&&(h=h[0],n=true);k.push(h);return h});return n?k:k.join("")};return k?p():this.then(p)},renderEach:function(b,f,k,j){v(f)&&(j=k,k=f,f=null);return this.load(b).then(function(o){var p=this;k||(k=v(this.previous_content)?this.previous_content:[]);if(j)h.each(k,function(h,k){var u={},n=this.next_engine||b;f?u[f]=k:u=k;j(k,p.event_context.interpolate(o,
u,n))});else return this.collect(k,function(h,k){var j={},n=this.next_engine||b;f?j[f]=k:j=k;return this.event_context.interpolate(o,j,n)},true)})},interpolate:function(b,f,h){var k=this;return this.then(function(j,o){!b&&o&&(b=o);if(this.next_engine)f=this.next_engine,this.next_engine=false;var p=k.event_context.interpolate(j,b,f,this.partials);return h?o+p:p})},swap:function(){return this.then(function(b){this.event_context.swap(b)}).trigger("changed",{})},appendTo:function(b){return this.then(function(f){h(b).append(f)}).trigger("changed",
{})},prependTo:function(b){return this.then(function(f){h(b).prepend(f)}).trigger("changed",{})},replace:function(b){return this.then(function(f){h(b).html(f)}).trigger("changed",{})},trigger:function(b,f){return this.then(function(h){typeof f=="undefined"&&(f={content:h});this.event_context.trigger(b,f)})}});b.EventContext=function(e,f,h,k,j){this.app=e;this.verb=f;this.path=h;this.params=new b.Object(k);this.target=j};b.EventContext.prototype=h.extend({},b.Object.prototype,{$element:function(){return this.app.$element(p(arguments).shift())},
engineFor:function(b){var f;if(o(b))return b;b=(b||this.app.template_engine).toString();if(f=b.match(/\.([^\.\?\#]+)$/))b=f[1];return b&&o(this[b])?this[b]:this.app.template_engine?this.engineFor(this.app.template_engine):function(b){return b}},interpolate:function(b,f,h,k){return this.engineFor(h).apply(this,[b,f,k])},render:function(e,f,h,k){return(new b.RenderContext(this)).render(e,f,h,k)},renderEach:function(e,f,h,k){return(new b.RenderContext(this)).renderEach(e,f,h,k)},load:function(e,f,h){return(new b.RenderContext(this)).load(e,
f,h)},partial:function(e,f){return(new b.RenderContext(this)).partial(e,f)},send:function(){var e=new b.RenderContext(this);return e.send.apply(e,arguments)},redirect:function(){var b;b=p(arguments);var f=this.app.getLocation(),k=b.length;if(k>1){for(var j=0,o=[],r=[],v={},x=false;j<k;j++)typeof b[j]=="string"?o.push(b[j]):(h.extend(v,b[j]),x=true);b=o.join("/");if(x){for(var u in v)r.push(this.app._encodeFormPair(u,v[u]));b+="?"+r.join("&")}}else b=b[0];this.trigger("redirect",{to:b});this.app.last_location=
[this.verb,this.path];this.app.setLocation(b);RegExp(b).test(f)&&this.app.trigger("location-changed")},trigger:function(b,f){typeof f=="undefined"&&(f={});if(!f.context)f.context=this;return this.app.trigger(b,f)},eventNamespace:function(){return this.app.eventNamespace()},swap:function(b){return this.app.swap(b)},notFound:function(){return this.app.notFound(this.verb,this.path)},json:function(b){return h.parseJSON(b)},toString:function(){return"Sammy.EventContext: "+[this.verb,this.path,this.params].join(" ")}});
h.sammy=f.Sammy=b})(jQuery,window);
(function(h){function f(b){b=unescape(b);return b==="true"?true:b==="false"?false:b}function b(k,j,p){var o;if(j.match(/^[^\[]+$/))k[j]=f(p);else if(o=j.match(/^([^\[]+)\[\](.*)$/)){j=o[1];o=o[2];if(k[j]&&!h.isArray(k[j]))throw"400 Bad Request";if(o){o=o.match(/^\[([^\]]+)\](.*)$/);if(!o)throw"400 Bad Request";k[j]?k[j][k[j].length-1][o[1]]?k[j].push(b({},o[1]+o[2],p)):h.extend(true,k[j][k[j].length-1],b({},o[1]+o[2],p)):k[j]=[b({},o[1]+o[2],p)]}else k[j]?k[j].push(f(p)):k[j]=[f(p)]}else if(o=j.match(/^([^\[]+)\[([^\[]+)\](.*)$/)){j=
o[1];o=o[2]+o[3];if(k[j]&&h.isArray(k[j]))throw"400 Bad Request";k[j]?h.extend(true,k[j],b(k[j],o,p)):k[j]=b({},o,p)}return k}Sammy=Sammy||{};Sammy.NestedParams=function(f){f._parseParamPair=b}})(jQuery);
(function(h){var f=function(){var b=Sammy.makeArray(arguments),f=b.shift(),h=b.shift();Sammy.isFunction(f)&&setTimeout(function(){f.apply(h||{},b)},0)};Sammy=Sammy||{};Sammy.Store=function(b){this.options=b||{};this.name=this.options.name||"store";this.app=this.options.app;if(Sammy.isArray(this.options.type))for(var b=0,f=this.options.type.length,h;b<f;b++){if(h=this.options.type[b],Sammy.Store.isAvailable(h)){this.type=h;break}}else this.type=this.options.type||"memory";this.storage=new Sammy.Store[Sammy.Store.stores[this.type]](this.name,
this.options)};Sammy.Store.stores={memory:"Memory",local:"LocalStorage",session:"SessionStorage",cookie:"Cookie"};Sammy.extend(Sammy.Store.prototype,{isAvailable:function(){return Sammy.isFunction(this.storage.isAvailable)?this.storage.isAvailable():true},exists:function(b,f){this.storage.exists(b,f);return this},set:function(b,h,j){var p=typeof h=="string"?h:JSON.stringify(h),o=this,b=b.toString();this.storage.set(b,p,function(){o.app&&(o.app.trigger("set-"+o.name,{key:b,value:h}),o.app.trigger("set-"+
o.name+"-"+b,{key:b,value:h}));f(j,o,h,b)});return this},get:function(b,h){var j=this;this.storage.get(b,function(b){var o;if(typeof b=="undefined"||b===null||b==="")o=b;try{o=JSON.parse(b)}catch(v){o=b}f(h,j,o)});return this},clear:function(b,h){var j=this;this.storage.clear(b,function(){f(h,j)});return this},clearAll:function(b){var h=this;this.storage.clearAll(function(){f(b,h)});return this}});Sammy.Store.isAvailable=function(b){try{return Sammy.Store[Sammy.Store.stores[b]].prototype.isAvailable()}catch(f){return false}};
Sammy.Store.Memory=function(b){this.name=b;Sammy.Store.Memory.store=Sammy.Store.Memory.store||{};Sammy.Store.Memory.store[this.name]=Sammy.Store.Memory.store[this.name]||{};this.store=Sammy.Store.Memory.store[this.name]};Sammy.extend(Sammy.Store.Memory.prototype,{isAvailable:function(){return true},exists:function(b,h){return f(h,this,this.store.hasOwnProperty(b))},set:function(b,h,j){return f(j,this,this.store[b]=h,b)},get:function(b,h){return f(h,this,this.store[b])},clear:function(b,h){delete Sammy.Store.Memory.store[this.name][b];
return f(h,this,b)},clearAll:function(b){this.store=Sammy.Store.Memory.store[this.name]={};return f(b,this,true)}});Sammy.Store.LocalStorage=function(b){this.name=b;this.key_prefix=["store",this.name].join(".");this.meta_key="__"+b+"_keys__"};Sammy.extend(Sammy.Store.LocalStorage.prototype,{storage:window.localStorage,isAvailable:function(){return this.storage!==null&&window.location.protocol!="file:"},exists:function(b,h){this.get(b,function(b){f(h,this,b!==null)})},set:function(b,h,j){this.storage.setItem(this._key(b),
h);f(j,this,h,b)},get:function(b,h){var j=this.storage.getItem(this._key(b));if(j&&typeof j.value!="undefined")j=j.value;f(h,this,j)},clear:function(b,h){this.storage.removeItem(this._key(b));f(h,this,b)},clearAll:function(b){for(var h=0,j=this.storage.length,p,o=RegExp("^"+this.key_prefix.replace(".","\\.")+"\\.");h<j;h++)try{p=this.storage.key(h),o.test(p)&&this.storage.removeItem(p)}catch(v){}f(b,this,true)},_key:function(b){return[this.key_prefix,b].join(".")}});Sammy.Store.SessionStorage=function(b){this.name=
b;this.key_prefix=["store",this.name].join(".");this.meta_key="__"+b+"_keys__"};Sammy.extend(Sammy.Store.SessionStorage.prototype,Sammy.Store.LocalStorage.prototype,{storage:window.sessionStorage});Sammy.Store.Cookie=function(b,f){this.name=b;this.options=f||{};this.path=this.options.path||"/";this.expires_in=this.options.expires_in||1209600};h.extend(Sammy.Store.Cookie.prototype,{isAvailable:function(){return"cookie"in document&&window.location.protocol!="file:"},exists:function(b,h){this.get(b,
function(b){f(h,this,b!==null)})},set:function(b,h,j){this._setCookie(b,h);f(j,false,h,b)},get:function(b,h){f(h,false,this._getCookie(b))},clear:function(b,h){this._setCookie(b,"",-1);f(h,false,b)},clearAll:function(b){f(b,true)},_key:function(b){return["store",this.name,b].join(".")},_escapedKey:function(b){return b.replace(/(\.|\*|\(|\)|\[|\])/g,"\\$1")},_getCookie:function(b){return(b=document.cookie.match("(^|;\\s)"+this._escapedKey(this._key(b))+"=([^;]*)(;|$)"))?b[2]:null},_setCookie:function(b,
f,h){h||(h=this.expires_in*1E3);var p=new Date;p.setTime(p.getTime()+h);b=[this._key(b),"=",f,"; expires=",p.toGMTString(),"; path=",this.path].join("");document.cookie=b}});Sammy.Storage=function(){this.stores=this.stores||{};this.store=function(b,f){if(typeof this.stores[b]=="undefined"){var j="clear"+b.substr(0,1).toUpperCase()+b.substr(1);this.stores[b]=new Sammy.Store(h.extend({name:b,element:this.element_selector},f||{}));this[b]=function(f,h,k){return typeof f=="undefined"?this.stores[b]:typeof k==
"undefined"&&Sammy.isFunction(h)?this.stores[b].get(f,h):this.stores[b].set(f,h,k)};this[j]=function(f){return this.stores[b].clearAll(f)};this.helper(b,function(){return this.app[b].apply(this.app,arguments)});this.helper(j,function(b){return this.app[j](b)})}return this.stores[b]};this.helpers({store:function(){return this.app.store.apply(this.app,arguments)}})};Sammy.Session=function(b,f){this.use("Storage");this.store("session",h.extend({type:["local","cookie","memory"]},f))};Sammy.Cache=function(b,
f){this.use("Storage");this.cache_partials=true;this.store("cache",h.extend({type:["local","session","memory"]},f))}})(jQuery);
var jscolor={dir:"",bindClass:"color",binding:true,preloading:true,install:function(){jscolor.addEvent(window,"load",jscolor.init)},init:function(){jscolor.binding&&jscolor.bind();jscolor.preloading&&jscolor.preload()},getDir:function(){return"/images/"},bind:function(){for(var h=RegExp("(^|\\s)("+jscolor.bindClass+")\\s*(\\{[^}]*\\})?","i"),f=document.getElementsByTagName("input"),b=0;b<f.length;b+=1){var k;if(!f[b].color&&f[b].className&&(k=f[b].className.match(h))){if(k[3])try{eval("prop="+k[3])}catch(j){}f[b].color=
new jscolor.color(f[b],{})}}},preload:function(){for(var h in jscolor.imgRequire)jscolor.imgRequire.hasOwnProperty(h)&&jscolor.loadImage(h)},images:{pad:[181,101],sld:[16,101],cross:[15,15],arrow:[7,11]},imgRequire:{},imgLoaded:{},requireImage:function(h){jscolor.imgRequire[h]=true},loadImage:function(h){if(!jscolor.imgLoaded[h])jscolor.imgLoaded[h]=new Image,jscolor.imgLoaded[h].src="/images/"+h},fetchElement:function(h){return typeof h==="string"?document.getElementById(h):h},addEvent:function(h,
f,b){h.addEventListener?h.addEventListener(f,b,false):h.attachEvent&&h.attachEvent("on"+f,b)},fireEvent:function(h,f){if(h)if(document.createEvent){var b=document.createEvent("HTMLEvents");b.initEvent(f,true,true);h.dispatchEvent(b)}else if(document.createEventObject)b=document.createEventObject(),h.fireEvent("on"+f,b);else if(h["on"+f])h["on"+f]()},getElementPos:function(h){var f=h,b=0,k=0;if(f.offsetParent){do b+=f.offsetLeft,k+=f.offsetTop;while(f=f.offsetParent)}for(;(h=h.parentNode)&&h.nodeName.toUpperCase()!==
"BODY";)b-=h.scrollLeft,k-=h.scrollTop;return[b,k]},getElementSize:function(h){return[h.offsetWidth,h.offsetHeight]},getRelMousePos:function(h){var f=0,b=0;if(!h)h=window.event;if(typeof h.offsetX==="number")f=h.offsetX,b=h.offsetY;else if(typeof h.layerX==="number")f=h.layerX,b=h.layerY;return{x:f,y:b}},getViewPos:function(){return typeof window.pageYOffset==="number"?[window.pageXOffset,window.pageYOffset]:document.body&&(document.body.scrollLeft||document.body.scrollTop)?[document.body.scrollLeft,
document.body.scrollTop]:document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)?[document.documentElement.scrollLeft,document.documentElement.scrollTop]:[0,0]},getViewSize:function(){return typeof window.innerWidth==="number"?[window.innerWidth,window.innerHeight]:document.body&&(document.body.clientWidth||document.body.clientHeight)?[document.body.clientWidth,document.body.clientHeight]:document.documentElement&&(document.documentElement.clientWidth||
document.documentElement.clientHeight)?[document.documentElement.clientWidth,document.documentElement.clientHeight]:[0,0]},color:function(h,f){function b(b,e,f){if(b===null)return[f,f,f];var h=Math.floor(b),k=f*(1-e),b=f*(1-e*(h%2?b-h:1-(b-h)));switch(h){case 6:case 0:return[f,b,k];case 1:return[b,f,k];case 2:return[k,f,b];case 3:return[k,b,f];case 4:return[b,k,f];case 5:return[f,k,b]}}function k(b,f){if(!jscolor.picker){jscolor.picker={box:document.createElement("div"),boxB:document.createElement("div"),
pad:document.createElement("div"),padB:document.createElement("div"),padM:document.createElement("div"),sld:document.createElement("div"),sldB:document.createElement("div"),sldM:document.createElement("div"),btn:document.createElement("div"),btnS:document.createElement("span"),btnT:document.createTextNode(r.pickerCloseText)};for(var k=0;k<jscolor.images.sld[1];k+=4){var l=document.createElement("div");l.style.height="4px";l.style.fontSize="1px";l.style.lineHeight="0";jscolor.picker.sld.appendChild(l)}jscolor.picker.sldB.appendChild(jscolor.picker.sld);
jscolor.picker.box.appendChild(jscolor.picker.sldB);jscolor.picker.box.appendChild(jscolor.picker.sldM);jscolor.picker.padB.appendChild(jscolor.picker.pad);jscolor.picker.box.appendChild(jscolor.picker.padB);jscolor.picker.box.appendChild(jscolor.picker.padM);jscolor.picker.btnS.appendChild(jscolor.picker.btnT);jscolor.picker.btn.appendChild(jscolor.picker.btnS);jscolor.picker.box.appendChild(jscolor.picker.btn);jscolor.picker.boxB.appendChild(jscolor.picker.box)}var q=jscolor.picker;q.box.onmouseup=
q.box.onmouseout=function(){h.focus()};q.box.onmousedown=function(){I=true};q.box.onmousemove=function(b){if(n||y)n&&A(b),y&&z(b),document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges()};q.padM.onmouseup=q.padM.onmouseout=function(){n&&(n=false,jscolor.fireEvent(e,"change"))};q.padM.onmousedown=function(b){n=true;A(b)};q.sldM.onmouseup=q.sldM.onmouseout=function(){y&&(y=false,jscolor.fireEvent(e,"change"))};q.sldM.onmousedown=function(b){y=true;z(b)};
k=j(r);q.box.style.width=k[0]+"px";q.box.style.height=k[1]+"px";q.boxB.style.position="absolute";q.boxB.style.clear="both";q.boxB.style.left=b+"px";q.boxB.style.top=f+"px";q.boxB.style.zIndex=r.pickerZIndex;q.boxB.style.border=r.pickerBorder+"px solid";q.boxB.style.borderColor=r.pickerBorderColor;q.boxB.style.background=r.pickerFaceColor;q.pad.style.width=jscolor.images.pad[0]+"px";q.pad.style.height=jscolor.images.pad[1]+"px";q.padB.style.position="absolute";q.padB.style.left=r.pickerFace+"px";q.padB.style.top=
r.pickerFace+"px";q.padB.style.border=r.pickerInset+"px solid";q.padB.style.borderColor=r.pickerInsetColor;q.padM.style.position="absolute";q.padM.style.left="0";q.padM.style.top="0";q.padM.style.width=r.pickerFace+2*r.pickerInset+jscolor.images.pad[0]+jscolor.images.arrow[0]+"px";q.padM.style.height=q.box.style.height;q.padM.style.cursor="crosshair";q.sld.style.overflow="hidden";q.sld.style.width=jscolor.images.sld[0]+"px";q.sld.style.height=jscolor.images.sld[1]+"px";q.sldB.style.display=r.slider?
"block":"none";q.sldB.style.position="absolute";q.sldB.style.right=r.pickerFace+"px";q.sldB.style.top=r.pickerFace+"px";q.sldB.style.border=r.pickerInset+"px solid";q.sldB.style.borderColor=r.pickerInsetColor;q.sldM.style.display=r.slider?"block":"none";q.sldM.style.position="absolute";q.sldM.style.right="0";q.sldM.style.top="0";q.sldM.style.width=jscolor.images.sld[0]+jscolor.images.arrow[0]+r.pickerFace+2*r.pickerInset+"px";q.sldM.style.height=q.box.style.height;try{q.sldM.style.cursor="pointer"}catch(s){q.sldM.style.cursor=
"hand"}q.btn.style.display=r.pickerClosable?"block":"none";q.btn.style.position="absolute";q.btn.style.left=r.pickerFace+"px";q.btn.style.bottom=r.pickerFace+"px";q.btn.style.padding="0 15px";q.btn.style.height="18px";q.btn.style.border=r.pickerInset+"px solid";(function(){var b=r.pickerInsetColor.split(/\s+/);q.btn.style.borderColor=b.length<2?b[0]:b[1]+" "+b[0]+" "+b[0]+" "+b[1]})();q.btn.style.color=r.pickerButtonColor;q.btn.style.font="12px sans-serif";q.btn.style.textAlign="center";try{q.btn.style.cursor=
"pointer"}catch(v){q.btn.style.cursor="hand"}q.btn.onmousedown=function(){r.hidePicker()};q.btnS.style.lineHeight=q.btn.style.height;switch(x){case 0:var w="hs.png";break;case 1:w="hv.png"}q.padM.style.backgroundImage="url('"+jscolor.getDir()+"cross.gif')";q.padM.style.backgroundRepeat="no-repeat";q.sldM.style.backgroundImage="url('"+jscolor.getDir()+"arrow.gif')";q.sldM.style.backgroundRepeat="no-repeat";q.pad.style.backgroundImage="url('"+jscolor.getDir()+w+"')";q.pad.style.backgroundRepeat="no-repeat";
q.pad.style.backgroundPosition="0 0";p();o();jscolor.picker.owner=r;document.getElementsByTagName("body")[0].appendChild(q.boxB)}function j(b){return[2*b.pickerInset+2*b.pickerFace+jscolor.images.pad[0]+(b.slider?2*b.pickerInset+2*jscolor.images.arrow[0]+jscolor.images.sld[0]:0),b.pickerClosable?4*b.pickerInset+3*b.pickerFace+jscolor.images.pad[1]+b.pickerButtonHeight:2*b.pickerInset+2*b.pickerFace+jscolor.images.pad[1]]}function p(){switch(x){case 0:var e=1;break;case 1:e=2}var f=Math.round(r.hsv[0]/
6*(jscolor.images.pad[0]-1)),e=Math.round((1-r.hsv[e])*(jscolor.images.pad[1]-1));jscolor.picker.padM.style.backgroundPosition=r.pickerFace+r.pickerInset+f-Math.floor(jscolor.images.cross[0]/2)+"px "+(r.pickerFace+r.pickerInset+e-Math.floor(jscolor.images.cross[1]/2))+"px";f=jscolor.picker.sld.childNodes;switch(x){case 0:for(var h=b(r.hsv[0],r.hsv[1],1),e=0;e<f.length;e+=1)f[e].style.backgroundColor="rgb("+h[0]*(1-e/f.length)*100+"%,"+h[1]*(1-e/f.length)*100+"%,"+h[2]*(1-e/f.length)*100+"%)";break;
case 1:var k,j=[r.hsv[2],0,0],e=Math.floor(r.hsv[0]),l=e%2?r.hsv[0]-e:1-(r.hsv[0]-e);switch(e){case 6:case 0:h=[0,1,2];break;case 1:h=[1,0,2];break;case 2:h=[2,0,1];break;case 3:h=[2,1,0];break;case 4:h=[1,2,0];break;case 5:h=[0,2,1]}for(e=0;e<f.length;e+=1)k=1-1/(f.length-1)*e,j[1]=j[0]*(1-k*l),j[2]=j[0]*(1-k),f[e].style.backgroundColor="rgb("+j[h[0]]*100+"%,"+j[h[1]]*100+"%,"+j[h[2]]*100+"%)"}}function o(){switch(x){case 0:var b=2;break;case 1:b=1}b=Math.round((1-r.hsv[b])*(jscolor.images.sld[1]-
1));jscolor.picker.sldM.style.backgroundPosition="0 "+(r.pickerFace+r.pickerInset+b-Math.floor(jscolor.images.arrow[1]/2))+"px"}function v(){return jscolor.picker&&jscolor.picker.owner===r}function B(){e!==h&&r.importColor()}function A(b){var e=jscolor.getRelMousePos(b),b=e.x-r.pickerFace-r.pickerInset,e=e.y-r.pickerFace-r.pickerInset;switch(x){case 0:r.fromHSV(b*(6/(jscolor.images.pad[0]-1)),1-e/(jscolor.images.pad[1]-1),null,J);break;case 1:r.fromHSV(b*(6/(jscolor.images.pad[0]-1)),null,1-e/(jscolor.images.pad[1]-
1),J)}}function z(b){b=jscolor.getRelMousePos(b).y-r.pickerFace-r.pickerInset;switch(x){case 0:r.fromHSV(null,null,1-b/(jscolor.images.sld[1]-1),F);break;case 1:r.fromHSV(null,1-b/(jscolor.images.sld[1]-1),null,F)}}this.adjust=this.required=true;this.hash=false;this.slider=this.caps=true;this.styleElement=this.valueElement=h;this.hsv=[0,0,1];this.rgb=[1,1,1];this.pickerOnfocus=true;this.pickerMode="HSV";this.pickerPosition="bottom";this.pickerButtonHeight=20;this.pickerClosable=false;this.pickerCloseText=
"Close";this.pickerButtonColor="ButtonText";this.pickerFace=10;this.pickerFaceColor="ThreeDFace";this.pickerBorder=1;this.pickerBorderColor="ThreeDHighlight ThreeDShadow ThreeDShadow ThreeDHighlight";this.pickerInset=1;this.pickerInsetColor="ThreeDShadow ThreeDHighlight ThreeDHighlight ThreeDShadow";this.pickerZIndex=1E4;for(var G in f)f.hasOwnProperty(G)&&(this[G]=f[G]);this.hidePicker=function(){v()&&(delete jscolor.picker.owner,document.getElementsByTagName("body")[0].removeChild(jscolor.picker.boxB))};
this.showPicker=function(){if(!v()){var b=jscolor.getElementPos(h),e=jscolor.getElementSize(h),f=jscolor.getViewPos(),l=jscolor.getViewSize(),o=j(this),n,p,r;switch(this.pickerPosition.toLowerCase()){case "left":n=1;p=0;r=-1;break;case "right":n=1;p=0;r=1;break;case "top":n=0;p=1;r=-1;break;default:n=0,r=p=1}var d=(e[p]+o[p])/2,b=[-f[n]+b[n]+o[n]>l[n]?-f[n]+b[n]+e[n]/2>l[n]/2&&b[n]+e[n]-o[n]>=0?b[n]+e[n]-o[n]:b[n]:b[n],-f[p]+b[p]+e[p]+o[p]-d+d*r>l[p]?-f[p]+b[p]+e[p]/2>l[p]/2&&b[p]+e[p]-d-d*r>=0?b[p]+
e[p]-d-d*r:b[p]+e[p]-d+d*r:b[p]+e[p]-d+d*r>=0?b[p]+e[p]-d+d*r:b[p]+e[p]-d-d*r];k(b[n],b[p])}};this.importColor=function(){if(e)if(this.adjust)!this.required&&/^\s*$/.test(e.value)?(e.value="",l.style.backgroundColor=l.jscStyle.backgroundColor,l.style.color=l.jscStyle.color,this.exportColor(H|w)):this.fromString(e.value)||this.exportColor();else{if(!this.fromString(e.value,H))l.style.backgroundColor=l.jscStyle.backgroundColor,l.style.color=l.jscStyle.color,this.exportColor(H|w)}else this.exportColor()};
this.exportColor=function(b){if(!(b&H)&&e){var f=this.toString();this.caps&&(f=f.toUpperCase());this.hash&&(f="#"+f);e.value=f}if(!(b&w)&&l)l.style.backgroundColor="#"+this.toString(),l.style.color=0.213*this.rgb[0]+0.715*this.rgb[1]+0.072*this.rgb[2]<0.5?"#FFF":"#000";!(b&F)&&v()&&p();!(b&J)&&v()&&o()};this.fromHSV=function(e,f,h,k){e<0&&(e=0)||e>6&&(e=6);f<0&&(f=0)||f>1&&(f=1);h<0&&(h=0)||h>1&&(h=1);this.rgb=b(e===null?this.hsv[0]:this.hsv[0]=e,f===null?this.hsv[1]:this.hsv[1]=f,h===null?this.hsv[2]:
this.hsv[2]=h);this.exportColor(k)};this.fromRGB=function(b,e,f,h){b<0&&(b=0)||b>1&&(b=1);e<0&&(e=0)||e>1&&(e=1);f<0&&(f=0)||f>1&&(f=1);var b=b===null?this.rgb[0]:this.rgb[0]=b,e=e===null?this.rgb[1]:this.rgb[1]=e,k=f===null?this.rgb[2]:this.rgb[2]=f,j=Math.min(Math.min(b,e),k),f=Math.max(Math.max(b,e),k),l=f-j;l===0?b=[null,0,f]:(b=b===j?3+(k-e)/l:e===j?5+(b-k)/l:1+(e-b)/l,b=[b===6?0:b,l/f,f]);b[0]!==null&&(this.hsv[0]=b[0]);b[2]!==0&&(this.hsv[1]=b[1]);this.hsv[2]=b[2];this.exportColor(h)};this.fromString=
function(b,e){var f=b.match(/^\W*([0-9A-F]{3}([0-9A-F]{3})?)\W*$/i);return f?(f[1].length===6?this.fromRGB(parseInt(f[1].substr(0,2),16)/255,parseInt(f[1].substr(2,2),16)/255,parseInt(f[1].substr(4,2),16)/255,e):this.fromRGB(parseInt(f[1].charAt(0)+f[1].charAt(0),16)/255,parseInt(f[1].charAt(1)+f[1].charAt(1),16)/255,parseInt(f[1].charAt(2)+f[1].charAt(2),16)/255,e),true):false};this.toString=function(){return(256|Math.round(255*this.rgb[0])).toString(16).substr(1)+(256|Math.round(255*this.rgb[1])).toString(16).substr(1)+
(256|Math.round(255*this.rgb[2])).toString(16).substr(1)};var r=this,x=this.pickerMode.toLowerCase()==="hvs"?1:0,I=false,e=jscolor.fetchElement(this.valueElement),l=jscolor.fetchElement(this.styleElement),n=false,y=false,H=1,w=2,F=4,J=8;jscolor.addEvent(h,"focus",function(){r.pickerOnfocus&&r.showPicker()});jscolor.addEvent(h,"blur",function(){I?I=false:window.setTimeout(function(){I||(e===h&&r.importColor(),r.pickerOnfocus&&r.hidePicker());I=false},0)});e&&(G=function(){r.fromString(e.value,H)},
jscolor.addEvent(e,"keyup",G),jscolor.addEvent(e,"input",G),jscolor.addEvent(e,"blur",B),e.setAttribute("autocomplete","off"));if(l)l.jscStyle={backgroundColor:l.style.backgroundColor,color:l.style.color};switch(x){case 0:jscolor.requireImage("hs.png");break;case 1:jscolor.requireImage("hv.png")}jscolor.requireImage("cross.gif");jscolor.requireImage("arrow.gif");this.importColor()}};jscolor.install();(function(h){h.extend(h.fn,{dimensions:function(){var f=h(this);return{width:f.width(),height:f.height()}}})})(jQuery);
Graphiti=window.Graphiti||{};Graphiti.Graph=function(h){this.options={};this.targets=[];this.parsedTargets=[];var f={width:950,height:400,from:"-6hour",fontSize:"10",title:"",targets:[]};h.options?$.extend(true,this.options,f,h.options):$.extend(true,this.options,f);if(h.targets)for(var b=0,k=h.targets.length;b<k;b++)this.addTarget(h.targets[b]);!h.options&&!h.targets&&(h.charCodeAt?this.addTarget(h):h instanceof Array?this.addTarget(h):$.extend(this.options,f,h))};
Graphiti.Graph.prototype={urlBase:function(){return"http://"+Graphiti.graphite_host+"/render/?"}(),updateOptions:function(h){$.extend(true,this.options,h||{})},addTarget:function(h){var f="",b,k;if(typeof h=="string")b=h;else for(option in b=h[0],k=h[1],k){var j=option,f=k[option];j=="mostDeviant"?(f=JSON.stringify(f),b=[j,"(",f,",",b,")"].join("")):f!=true?(f=JSON.stringify(f),b=""+j+"("+b+","+(f[0]==="["&&f.substr(1,f.length-2)||f)+")"):b=[j,"(",b,")"].join("")}this.targets.push(h);this.parsedTargets.push(b);
return this},buildURL:function(){var h=this.urlBase,f=[];$.each(this.options,function(b,h){f.push(b+"="+encodeURIComponent(h))});$.each(this.parsedTargets,function(b,h){f.push("target="+encodeURIComponent(h))});f.push("_timestamp_="+(new Date).getTime());return h+f.join("&")+"#.png"},image:function(h){this.updateOptions(h.dimensions());h.bind("load",function(){$(this).removeClass("loading")}).addClass("loading").attr("src",this.buildURL());return h},toJSON:function(){return JSON.stringify({options:this.options,
targets:this.targets},null,2)},save:function(h,f){var b,k={graph:{title:this.options.title||"Untitled",url:this.buildURL(),json:this.toJSON()}};$.isFunction(h)&&(f=h,h=null);h?(b="/graphs/"+h,k._method="PUT"):b="/graphs";$.ajax({url:b,data:k,type:"post",success:f})},snapshot:function(h,f){$.ajax({type:"post",dataType:"json",url:"/graphs/"+h+"/snapshot",success:function(b){f(b.url)}})}};
var app=Sammy("body",function(){this.use("Session");this.use("NestedParams");var h=require("pilot/canon");this.registerShortcut=function(f,b,k){var j=this;j.bind(f,k);h.addCommand({name:f,bindKey:{win:"Ctrl-"+b,mac:"Command-"+b,sender:"editor"},exec:function(){j.trigger(f)}});key("command+"+b,function(){j.trigger(f);return false})};this.helpers({showPane:function(f,b){var h="#"+f+"-pane";$(".pane:not("+h+")").hide();h=$(h);b&&h.html(b);return h.show()},setupEditor:function(){if(!this.app.editor){var f=
this.app.editor=ace.edit("editor");f.setTheme("ace/theme/textmate");var b=require("ace/mode/json").Mode,f=f.getSession();f.setMode(new b);f.setUseSoftTabs(true);f.setTabSize(2)}},redrawPreview:function(){try{this.log("redraw"),this.graphPreview(this.getEditorJSON())}catch(f){alert(f)}return false},showEditor:function(f,b){this.showPane("editor");f||(f=defaultGraph);this.setupEditor();f=this.setEditorJSON(f);$("#editor").show();this.graphPreview(JSON.parse(f));this.buildDashboardsDropdown(b);b?($("#graph-actions form").attr("data-action",
function(f,h){h&&$(this).attr("action",h.replace(/:uuid/,b))}).show(),$("[name=uuid]").val(b),$("#graph-actions").find(".update, .dashboard, .snapshots").show()):$("#graph-actions").find(".update, .dashboard, .snapshots").hide();this.toggleEditorPanesByPreference()},getEditorJSON:function(){return JSON.parse(this.app.editor.getSession().getValue())},setEditorJSON:function(f){typeof f!="string"&&(f=JSON.stringify(f,null,2));this.app.editor.getSession().setValue(f);return f},graphPreview:function(f){this.session("lastPreview",
f,function(){var b=$("#graph-preview img"),h=$("#graph-url input"),j=new Graphiti.Graph(f);j.image(b);h.val(j.buildURL())});this.updateOptionsForm(f)},updateOptionsForm:function(f){var f=f.options?f.options:f,b,h=$("#graph-options form");for(b in f)f[b]!=""&&h.find('[name="options['+b+']"]').val(f[b])},saveOptions:function(f){var b=this.getEditorJSON();b.options=f;this.graphPreview(b);this.setEditorJSON(b)},buildMetricsList:function(f,b){var h=f.find("li:first").clone();f.html("");for(var j=0,p=b.length;j<
p;j++)Sammy.log(b[j]),h.clone().attr("id","metric_list_metric_"+j).find("strong").text(b[j]).end().appendTo(f).show()},bindMetricsList:function(){var f=this,b=$("#metrics-list ul"),h;$("#metrics-menu").find('input[type="search"]').live("keyup",function(){var b=$(this).val();h&&clearTimeout(h);h=setTimeout(function(){f.searchMetricsList(b)},200)});b.delegate("li a","click",function(b){b.preventDefault();var b=$(this).attr("rel"),h=$(this).siblings("strong").text();Sammy.log("clicked",b,h);f[b+"GraphMetric"](h)}).addClass(".bound")},
searchMetricsList:function(f){var b=this,h=$("#metrics-list ul"),j=$("#metrics-list .loading"),p=$("#metrics-list .empty"),o="/metrics.js";o+="?q="+f;if(!b.app.searching)if(f.length>4)return b.app.searching=true,p.hide(),j.show(),this.load(o).then(function(f){f=f.metrics;j.hide();f.length>0?(h.show(),b.buildMetricsList(h,f)):p.show();b.app.searching=false});else p.show(),h.hide()},addGraphMetric:function(f){var b=this.getEditorJSON();b.targets.push([f,{}]);this.graphPreview(b);this.setEditorJSON(b)},
replaceGraphMetric:function(f){var b=this.getEditorJSON();b.targets=[[f,{}]];this.graphPreview(b);this.setEditorJSON(b)},timestamp:function(f){typeof f=="string"&&(f=parseInt(f,10));return(new Date(f*1E3)).toString()},buildDashboardsDropdown:function(f){this.load("/dashboards.js",{cache:false,data:{uuid:f}}).then(function(b){var f=$('select[name="dashboard"]');f.html("");for(var b=b.dashboards,h=0,p=b.length,o;h<p;h++)o=b[h],$("<option />",{value:o.slug,text:o.title}).appendTo(f)})},buildSnapshotsDropdown:function(f,
b){var h=$('select[name="snapshot"]');b&&h.html("");for(var j=0,p=f.length,o,v;j<p;j++)o=f[j],v=this.snapshotURLToDate(o),$("<option />",{value:o,text:v}).prependTo(h).attr("selected","selected")},loadAndRenderGraphs:function(f){var b=this.showPane("graphs"," ");this.load(f,{cache:false}).then(function(f){var h="All Graphs",p;f.title?(p=false,h=f.title):p=true;b.append("<h2>"+h+"</h2>");var h=f.graphs,o=0,v=h.length,B=$("#templates .graph").clone(),A,z;if(f.graphs.length==0)return b.append($("#graphs-empty")),
true;for(;o<v;o++)A=h[o],z=new Graphiti.Graph(JSON.parse(A.json)),B.clone().find(".title").text(A.title||"Untitled").end().find("a.edit").attr("href","/graphs/"+A.uuid).end().show().appendTo(b).each(function(){z.image($(this).find("img"));(o+1)%2==0&&$(this).addClass("last");p?$(this).find(".delete").attr("action","/graphs/"+A.uuid):$(this).find(".delete").attr("action","/graphs/dashboards").find("[name=dashboard]").val(f.slug).end().find("[name=uuid]").val(A.uuid).end().find("[type=submit]").val("Remove")})})},
loadAndRenderDashboards:function(){var f=this.showPane("dashboards","<h2>Dashboards</h2>"),b=this;this.load("/dashboards.js",{cache:false}).then(function(h){var h=h.dashboards,j=0,p=h.length,o,v,B=$("#templates .dashboard").clone();if(h.length==0)f.append($("#dashboards-empty"));else for(;j<p;j++)o=h[j],v=(j+1)%2==0?"alt":"",B.clone().find("a.view").attr("href","/dashboards/"+o.slug).end().find(".title").text(o.title).end().find(".graphs-count").text(o.graphs.length).end().find(".updated-at").text(b.timestamp(o.updated_at)).end().find("form.delete").attr("action",
"/dashboards/"+o.slug).end().addClass(v).show().appendTo(f)})},loadAndRenderSnapshots:function(){var f=this;this.load("/graphs/"+this.params.uuid+".js",{cache:false}).then(function(b){for(var h=f.showPane("snapshots","<h2>"+b.title+" - Snapshots</h2>"),b=b.snapshots,j=0,p=b.length,o,v=$("#templates .snapshot").clone();j<p;j++)o=b[j],v.clone().find("a.view").attr("href",o).end().find("img").attr("src",o).end().find("h3.title").text(f.snapshotURLToDate(o)).end().show().appendTo(h)})},snapshotURLToDate:function(f){var b;
try{b=(new Date(parseInt(f.match(/\/(\d+)\.png/)[1],10))).toString()}catch(h){}return b},bindEditorPanes:function(){var f=this;$("#editor-pane").delegate(".edit-group .edit-head","click",function(b){b.preventDefault();var b=$(this).add($(this).siblings(".edit-body")),h=b.parents(".edit-group").attr("data-group");b.is(".closed")?(b.removeClass("closed").addClass("open"),f.session("groups:"+h,true)):(b.addClass("closed").removeClass("open"),f.session("groups:"+h,false))})},toggleEditorPanesByPreference:function(){var f=
this;$("#editor-pane .edit-group").each(function(){var b=$(this),h=b.attr("data-group"),j=b.find(".edit-head, .edit-body");f.session("groups:"+h,function(b){b?j.removeClass("closed").addClass("open"):j.removeClass("open").addClass("closed")})})},confirmDelete:function(f){return confirm("Are you sure you want to delete this "+f+"? There is no undo. You may regret this later.")},showSaving:function(){this.$button=$(this.target).find("input");this.original_button_val=this.$button.val();this.$button.val("Saving").attr("disabled",
"disabled")},hideSaving:function(){this.$button.val(this.original_button_val).removeAttr("disabled")}});this.before({only:{verb:"get"}},function(){this.showPane("loading")});this.get("/graphs/new",function(f){this.session("lastPreview",Graphiti.defaultGraph,function(){f.redirect("/graphs/workspace")})});this.get("/graphs/workspace",function(f){this.session("lastPreview",function(b){f.showEditor(b)})});this.get("/graphs/:uuid",function(f){this.load("/graphs/"+this.params.uuid+".js",{cache:false}).then(function(b){f.buildSnapshotsDropdown(b.snapshots,
true);f.showEditor(b.json,f.params.uuid)})});this.get("/graphs/:uuid/snapshots",function(){this.params.snapshot?(window.open(this.params.snapshot,this.snapshotURLToDate(this.params.snapshot)),this.redirect("/graphs",this.params.uuid)):this.loadAndRenderSnapshots()});this.get("/graphs",function(){this.loadAndRenderGraphs("/graphs.js")});this.get("/dashboards/:slug",function(){this.loadAndRenderGraphs("/dashboards/"+this.params.slug+".js")});this.get("/dashboards",function(){this.loadAndRenderDashboards()});
this.del("/dashboards/:slug",function(f){var b=this.params.slug;this.confirmDelete("dashboard")&&$.ajax({type:"post",data:"_method=DELETE",url:"/dashboards/"+b,complete:function(){f.loadAndRenderDashboards()}})});this.del("/graphs/dashboards",function(f){this.confirmDelete("graph")&&$.ajax({type:"post",data:$(f.target).serialize()+"&_method=DELETE",url:"/graphs/dashboards",success:function(){f.app.refresh()}})});this.del("/graphs/:uuid",function(f){this.confirmDelete("graph")&&$.ajax({type:"post",
data:"_method=DELETE",url:"/graphs/"+this.params.uuid,success:function(){f.app.refresh()}})});this.get("",function(){this.loadAndRenderDashboards()});this.post("/graphs",function(f){f.showSaving();(new Graphiti.Graph(this.getEditorJSON())).save(function(b){f.hideSaving();Sammy.log("created",b);b.uuid&&f.redirect("/graphs/"+b.uuid)})});this.put("/graphs/options",function(){this.saveOptions(this.params.options)});this.post("/graphs/:uuid/snapshots",function(f){f.showSaving();(new Graphiti.Graph(this.getEditorJSON())).snapshot(this.params.uuid,
function(b){f.hideSaving();Sammy.log("snapshotted",b);b&&f.buildSnapshotsDropdown([b])})});this.put("/graphs/:uuid",function(f){f.showSaving();(new Graphiti.Graph(this.getEditorJSON())).save(this.params.uuid,function(b){Sammy.log("updated",b);f.hideSaving();f.redrawPreview()})});this.post("/graphs/dashboards",function(f){var b=$(this.target);$.post("/graphs/dashboards",b.serialize(),function(b){f.buildDashboardsDropdown(b.uuid)})});this.post("/dashboards",function(f){var b=$(this.target);$.post("/dashboards",
b.serialize(),function(){b.find("input[type=text]").val("");f.buildDashboardsDropdown();f.trigger("toggle-dashboard-creation",{target:b.parents(".dashboard")})})});this.bind("toggle-dashboard-creation",function(f,b){var h=$(b.target),j=h.find(".new-dashboard"),h=h.find(".add-to-dashboard");j.is(":visible")?(j.hide(),h.show()):(j.show(),h.hide())});this.registerShortcut("redraw-preview","g",function(){this.redrawPreview()});this.bind("run",function(){var f=this;this.bindEditorPanes();this.bindMetricsList();
var b=function(){$(this).val().toString()==""?$(this).siblings(".save").attr("disabled","disabled"):$(this).siblings(".save").removeAttr("disabled")};$('select[name="dashboard"]').live("click",b).live("focus",b).live("blur",b);$('.dashboard button[rel=create], .dashboard a[rel="cancel"]').live("click",function(b){b.preventDefault();f.trigger("toggle-dashboard-creation",{target:$(this).parents(".dashboard")})});$("#graph-actions").delegate(".redraw","click",function(b){b.preventDefault();f.redrawPreview()})})});
$(function(){app.run()});
